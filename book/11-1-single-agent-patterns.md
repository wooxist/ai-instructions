# 11장 1부: 기본 패턴 - 단일 에이전트 설계

**Part 2: 인스트럭션 시스템 설계와 평가**

**목적:** 4장에서 제시된 '규모와 복잡도 매트릭스'의 9가지 상황에 맞춰, 4~9장에서 배운 설계 원칙과 방법론을 적용한 구체적인 인스트럭션 예제를 학습합니다.

### 이 장에서 배우는 것
- 간단한 개인용 에이전트부터 복잡한 조직 표준 시스템까지, 상황에 맞는 인스트럭션 설계 패턴을 익힙니다.
- 각 상황에서 어떤 설계 원칙(메타 원칙, 에이전트, 입/출력, 워크플로우)이 중요하게 적용되는지 이해합니다.
- 이 장의 예제들을 템플릿으로 활용하여 자신의 문제에 맞는 인스트럭션을 설계할 수 있습니다.

---

## 들어가며: 상황에 맞는 옷 입기

모든 문제에 동일한 방식의 인스트럭션을 적용할 수는 없습니다. 간단한 이메일 요약과 법률 계약서 분석에 필요한 지시의 정교함은 완전히 다릅니다. 4장에서 제시된 '상황별 필수 원칙 매트릭스'는 바로 이런 상황에 맞는 '설계의 깊이'를 결정하는 나침반 역할을 합니다. 참고를 위해 해당 매트릭스를 다시 한번 살펴봅니다.

| 에이전트 수 ＼ 복잡도 | 간단/일상<br>(낮은 위험, 단순 작업) | 표준/전문<br>(중간 복잡도, 전문 지식) | 복잡/중요<br>(높은 위험, 법적 책임) |
|---|---|---|---|
| **단일 에이전트**<br>(1개) | **구조적**: -<br>**실행**: 산출물 중심<br>**검증**: - | **구조적**: SSOT<br>**실행**: 산출물 중심, 컨텍스트 명시성<br>**검증**: 투명성·추적성 | **구조적**: SSOT, MECE<br>**실행**: 산출물 중심, 피드백 루프<br>**검증**: 투명성·추적성, 윤리적 경계, Human-in-the-Loop |
| **다중 에이전트**<br>(2-5개) | **구조적**: SSOT, SoC<br>**실행**: 산출물 중심, 점진적 개선<br>**검증**: 투명성·추적성 | **구조적**: SSOT, SoC, MECE<br>**실행**: 산출물 중심, 피드백 루프, 점진적 개선<br>**검증**: 투명성·추적성 | **구조적**: SSOT, SoC, MECE, 원자성<br>**실행**: 모두<br>**검증**: 모두 |
| **조직 표준**<br>(6개+, 다수 사용자) | **구조적**: SSOT, SoC<br>**실행**: 산출물 중심, 점진적 개선, 컨텍스트 명시성<br>**검증**: 투명성·추적성 | **구조적**: SSOT, SoC, MECE, 원자성<br>**실행**: 모두<br>**검증**: 투명성·추적성, Human-in-the-Loop | **구조적**: 모두<br>**실행**: 모두<br>**검증**: 모두 |

이 장의 예제들을 살펴보기 전에 한 가지 중요한 점을 짚고 넘어가겠습니다. 위 매트릭스에서 '간단/일상' 작업의 필수 원칙은 '산출물 중심' 하나뿐이지만, 이어지는 대부분의 예제에는 '역할'이 포함되어 있습니다. 이는 '역할'이 비록 최소 요구사항은 아닐지라도, 결과물의 톤과 스타일을 제어하는 가장 효과적인 **모범 사례(Best Practice)**이기 때문입니다. 마찬가지로, 작업이 단순할수록 3장에서 다룬 8가지 구성요소를 모두 채우기보다 핵심 지시에 집중하는 것이 더 효율적일 수 있습니다. 각 예제의 '설계 분석'에서는 이러한 맥락에서 어떤 원칙과 구성요소가 선택적으로 적용되었는지를 함께 살펴보시기 바랍니다.

이 장에서는 구체적인 예제를 통해 이론이 실제 인스트럭션에서 어떻게 구현되는지 살펴봅니다. 각 예제는 독립적으로 참고할 수 있는 작은 패턴 라이브러리 역할을 할 것입니다.

**11장 1부 (본 파일)**: 단일 에이전트 패턴 (사례 1-3)
**11장 2부 (다음 파일)**: 다중 에이전트 협업과 조직 표준 (사례 4-6)

| | **간단/일상**<br>(낮은 위험, 단순 반복) | **표준/전문**<br>(중간 복잡도, 전문 지식) | **복잡/중요**<br>(높은 위험, 법적/재정적 책임) |
| :--- | :--- | :--- | :--- |
| **단일 에이전트**<br>(11장 1부) | 11.1 이메일 요약 | 11.2 블로그 초고 작성 | 11.3 법률 조항 분석 |
| **조직 표준**<br>(11장 2부) | 11.4 회의록 요약<br>(단일 템플릿) | 11.5 사내 Q&A 봇<br>(RAG: 검색+답변) | 11.6 고객 리뷰 분석<br>(분류+추출+요약) |

---

## 11.1 [사례 1] 단일 에이전트, 간단/일상

- **상황:** 매일 수신하는 이메일 뉴스레터를 빠르게 훑어보기 위해 3줄 요약이 필요하다.

#### 최종 인스트럭션 예시
```markdown
# 역할: 전문 요약 비서
당신은 바쁜 경영진을 위해 긴 글의 핵심만 정확히 뽑아내는 전문 비서입니다.
# 목표
주어진 이메일 본문을 3개의 불릿 포인트로 요약한다.

# 출력 규칙
- 요약은 반드시 3개의 불릿(-)으로 구성되어야 한다.
- 각 불릿은 완전한 한글 문장으로 끝나야 한다.
- 가장 중요한 결론이나 액션 아이템을 첫 번째 불릿에 위치시킨다.
```

#### 실행 방법 (Execution Model)
이 인스트럭션은 ChatGPT와 같은 대화형 AI 인터페이스에 직접 붙여넣고 그 아래에 이메일 본문을 입력하여 실행할 수 있습니다. 또는 API를 호출하는 간단한 스크립트의 시스템 프롬프트로 사용할 수도 있습니다.

#### 설계 분석
- **적용된 메타 원칙 (4장):** 이 사례는 4장의 '상황별 필수 원칙 매트릭스'에서 **'단일 에이전트, 간단/일상'** 칸에 해당합니다.
  - **필수 원칙:** `실행: 산출물 중심`
  - **분석:** 이 원칙에 따라 `#출력 규칙`에서 결과물의 형식, 구조, 순서까지 명확히 정의하여 AI가 무엇을 만들어야 할지 정확히 알게 합니다. 이것이 이 간단한 사례의 핵심 설계입니다.
- **에이전트 설계 (5장):** '전문 요약 비서'라는 간단한 **역할**을 부여하여, 글의 목적에 맞는 요약 스타일을 유도합니다.
- **입/출력 설계 (6장):** 사용자가 제공하는 이메일 본문이 **입력**이며, `#출력 규칙`에 명시된 3개의 불릿이 명확한 **출력** 명세가 됩니다.
- **워크플로우 설계 (7장):** 단계가 하나인 단일 작업이므로, 별도의 워크플로우 설계는 필요하지 않습니다.

---

## 11.2 [사례 2] 단일 에이전트, 표준/전문

- **상황:** 특정 기술 주제에 대한 전문적인 블로그 포스팅의 초고 작성이 필요하다.

#### 최종 인스트럭션 예시
```markdown
# 역할: 10년차 테크니컬 라이터

# 목표
'RAG(검색 증강 생성)' 기술에 대해 비전문가도 이해할 수 있는 블로그 포스트 초고를 작성한다.

# 컨텍스트
- 대상 독자: 개발 경험이 없는 기획자, 마케터
- 게시 플랫폼: 회사 기술 블로그
- 핵심 메시지: "RAG는 AI가 최신 정보를 학습하고, 할루시네이션 없이 답변하게 하는 중요한 기술이다."

# 처리 방법
1. 아래 제공된 `[참고 자료]` 섹션의 내용만을 기반으로 글을 작성한다.
2. 글의 구조는 서론, 본론(RAG의 원리, 장점), 결론 순서를 따른다.
3. 어려운 기술 용어는 반드시 쉬운 비유를 들어 설명한다.

# 출력 형식
- 마크다운 형식으로 작성한다.
- 전체 분량은 800자 내외로 한다.

# 참고 자료
- [Lewis, P., et al. (2020). Retrieval-Augmented Generation...]
- [회사 내부 RAG 기술 소개 자료 URL]
```

#### 실행 방법 (Execution Model)
이 인스트럭션은 `#참고 자료` 부분을 실제 내용으로 채운 뒤, 대화형 AI에 붙여넣어 실행할 수 있습니다. 자동화를 위해서는, 참고 자료 URL의 내용을 읽어와 프롬프트에 동적으로 채워 넣고 API를 호출하는 스크립트를 작성할 수 있습니다.

#### 설계 분석
- **메타 원칙 (4장):** **컨텍스트 명시성** 원칙에 따라 `#컨텍스트`에서 글의 목적과 독자를 명확히 하고, **SSOT** 원칙에 따라 `#참고 자료`로 정보 출처를 한정합니다. **산출물 중심** 원칙은 `#출력 형식`에서 결과물의 사양을 정의하는 데 사용됩니다.
- **에이전트 설계 (5장):** '10년차 테크니컬 라이터'라는 전문적인 **페르소나**를 부여하여 글의 품질과 스타일을 제어합니다.
- **입/출력 설계 (6장):** `#참고 자료`가 명시적인 **입력** 데이터가 되며, `#출력 형식`이 결과물의 구조와 분량을 정의하는 **출력** 명세가 됩니다.
- **워크플로우 설계 (7장):** `#처리 방법`에서 글을 작성하는 절차를 간단한 단계로 나누어 제시하고 있습니다.

---

## 11.3 [사례 3] 단일 에이전트, 복잡/중요

- **상황:** 외부 업체와 계약 전, 법률 계약서 초안에서 회사에 불리할 수 있는 독소 조항을 검토해야 한다.

#### 최종 인스트럭션 예시
```markdown
# 역할: 15년차 기업 법무팀 변호사 (검토 보조 역할)

# 목표
주어진 계약서 초안에서, '책임 및 보상', '계약 해지', '지적 재산권' 세 가지 영역에 대해 당사에 잠재적 위험이 될 수 있는 조항을 각 1개씩 식별하고, 분석 보고서를 생성한다.

# 처리 방법
1. 계약서 전체를 읽고, 위 3가지 영역으로 나누어 분석한다.
2. 각 영역에서 가장 위험도가 높다고 판단되는 조항을 1개씩 선정한다.
3. 3개의 조항에 대해, 아래 `[출력 형식]`에 맞춰 보고서를 생성한다.

# 제약 조건
- 이 보고서는 법률적 자문이 아니며, 실제 의사결정는 반드시 담당 변호사의 검토를 거쳐야 한다. 보고서 서두에 이 경고 문구를 반드시 포함하라.
- 조항의 해석이 모호할 경우, 자의적으로 판단하지 말고 "[해석 필요]" 태그를 달고 사용자에게 질문하라.

# 출력 형식
아래 `legal_report.schema.json`에 정의된 JSON 스키마를 따른다.

```

[legal_report.schema.json]
```json
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Legal Risk Analysis Report",
  "description": "A report identifying potential risks in legal contract clauses.",
  "type": "object",
  "properties": {
    "report_id": {
      "description": "The ID of the document being analyzed.",
      "type": "string"
    },
    "clauses": {
      "description": "A list of identified risky clauses.",
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "category": {
            "description": "The category of the clause.",
            "type": "string",
            "enum": ["책임 및 보상", "계약 해지", "지적 재산권"]
          },
          "clause_number": {
            "description": "The number or identifier of the clause in the contract.",
            "type": "string"
          },
          "risk_description": {
            "description": "A detailed description of the potential risk.",
            "type": "string"
          },
          "recommendation": {
            "description": "A suggestion for how to mitigate the risk (e.g., amend or delete).",
            "type": "string"
          }
        },
        "required": ["category", "clause_number", "risk_description", "recommendation"]
      }
    }
  },
  "required": ["report_id", "clauses"]
}
```

#### 실행 방법 (Execution Model)
이 인스트럭션은 법률 문서 검토와 같이 사내 애플리케이션에 통합되어 사용될 가능성이 높습니다. 애플리케이션은 계약서 텍스트를 입력으로 API를 호출하고, 반환된 JSON 결과를 파싱하여 사용자 인터페이스(UI)에 위험 보고서 형태로 시각화해줍니다.

#### 설계 분석
- **메타 원칙 (4장):** **산출물 중심** 원칙에 따라, 기계가 검증할 수 있는 명확한 JSON 스키마로 출력을 정의합니다. 또한 **MECE** 원칙에 따라 분석 대상을 3가지 영역으로 명확히 나누고, **피드백 루프** 원칙을 통해 모호할 때 질문하도록 유도합니다. **Human-in-the-Loop**와 **윤리적 경계** 원칙은 AI의 역할을 '보조'로 한정하고 최종 책임을 사람에게 두어 리스크를 관리합니다.
- **에이전트 설계 (5장):** AI의 **역할**을 '보조'로 명확히 하고, 법률 판단을 직접 내리지 않도록 하는 중요한 **제약**을 설정합니다.
- **입/출력 설계 (6장):** 입력은 '계약서 초안'이며, 출력은 인스트럭션에 명시된 **구조화된 출력(JSON Schema)**으로, 기계적 처리가 용이합니다.
- **워크플로우 설계 (7장):** `#처리 방법`이 간단한 순차적 태스크를 정의합니다.

---
[다음으로: 11장 2부 - 다중 에이전트 협업과 조직 표준](11-2-organizational-standards.md)
