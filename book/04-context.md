# 4장. 기본 정보 채워넣기

**1부: 인스트럭션의 기초와 설계 원칙**

**목적:** AI가 혼동하지 않도록 필수 정보를 ‘무엇을·얼마나·어떤 형식으로’ 채워 넣는 법을 익힌다.

### 이 장에서 배우는 것
- 컨텍스트를 앞·중·뒤 어디에 얼마나 제공할지
- 출력 형식(JSON/표/마크다운)과 검증 규칙 정하기
- Few/Zero-shot 예시로 기대 형식·톤을 정렬하기

### 스코프 안내
이 장은 지시에 ‘채워 넣는 요소(컨텍스트/형식/예시)’를 다룹니다. 지시의 구조와 성공 기준은 3장에서, 제한/대응 전략은 6장에서 다룹니다.

## 4.1 컨텍스트(Context) 제공하기
컨텍스트는 작업의 배경·제약·전제를 짧고 명확하게 전달하는 것입니다.

### 언제 유용한가
새로운 도메인/프로젝트, 정책·보안 제약이 있는 작업, 특정 조건을 전제로 하는 분석/생성 과업

### 언제 안 쓰나
즉시 결정만 필요한 단답형 판단(폐쇄형/비교형으로 충분) 또는 이미 모든 전제가 지시에 포함된 경우

### 예시
"배경: B2B SaaS 리텐션 분석 | 대상: 지난달 유료 플랜 사용자 | 제외: 프로모션 사용자 | 지표: D30 리텐션 | 특이: 주말 트래픽 왜곡"

### 나쁜예
"상황은 알아서 판단해서 분석해줘"

### 이렇게 적어보세요
"배경: … | 목표: … | 대상/기간: … | 데이터/출처: … | 제약/정책: … | 가정: …"

### 자주하는 실수
불필요한 배경 과다(핵심이 묻힘), 오래된 정보/링크, 전제/제약 누락, 지시와 컨텍스트를 뒤섞음

### 더 좋게
핵심은 맨 앞(TL;DR), 불릿으로 요약, 중요도 순 정렬(필수→선택), 필요한 곳에서만 세부 링크 제공

### 성공 기준 예시
핵심 전제·제약이 맨 앞에 요약되고(3줄), 지시와 충돌/모순이 없으며, 모델이 그 전제를 실제로 반영해 출력

#### 지속적으로 참조되는 컨텍스트: 지식 베이스와 원칙

개별 작업의 배경 정보 외에도, 프로젝트 전반에 걸쳐 항상 참조되어야 하는 핵심 원칙과 지식을 컨텍스트로 제공할 수 있습니다. 이러한 정보는 [3장](03-good-instructions.md)에서 설명한 방법으로 항상 접근 가능한 위치(SSOT)에 두고, 모든 지시가 이를 참조하도록 만들어야 합니다. 이는 시간이 지나도 일관된 품질과 의사결정을 보장하는 '살아있는 문서' 역할을 합니다.

- **행동 프레임워크**: 특정 상황에서 어떤 방식으로 행동해야 하는지 정의하는 일관된 지침입니다. 반복되는 업무에서 동일한 절차, 말투, 금지사항을 명시하여 편차와 실수를 줄입니다.
  - *예시*: 고객 불만 응대는 1) 사실 확인 → 2) 공감 표현 → 3) 해결 옵션 제시 → 4) 후속 일정 약속 순서로 진행한다.

- **의사결정 기준**: 다양한 상황에서의 우선순위와 판단 기준을 제공합니다. 애매한 상황에서 무엇을 우선할지 정하는 트레이드오프(trade-off) 원칙을 명시하여 예측 가능한 결정을 돕습니다.
  - *예시*: 서비스 개발 시 우선순위는 '보안 > 정확성 > 속도 > 편의' 순서를 따른다. 데이터가 부족할 경우, '작게 시험 → 측정 → 확대' 원칙으로 접근한다.

- **지식 베이스**: 도메인 핵심 지식과 용어를 정의하여 전문성 있는 결과를 유도합니다. 용어 정의, 약어, 핵심 수치, 정책, 기술 스택 등을 한곳에 모아 AI와 팀원 모두가 동일한 배경지식으로 작업하게 합니다.
  - *예시*: 우리 서비스의 핵심 지표인 'CPA'와 'CTR'의 정확한 정의. 개인정보(PII) 마스킹 처리 규칙.

이렇게 구조화된 지식은 한 번 설계하고 끝나는 것이 아니라, 실행 결과와 피드백을 반영해 주기적으로 업데이트하며 지속적으로 가치를 더해야 합니다.

참고: 지시 구조/성공 기준은 3장, 제한/대응 전략은 6장 참조

## 4.2 출력 형식 지정
형식 지정은 사람이든 기계든 검증·재사용이 쉽게 만드는 핵심입니다.

### 언제 유용한가
머신 판독(JSON/CSV), 팀 리뷰(표/마크다운), 자동화 파이프라인 입력 등 형식 준수가 중요한 경우

### 언제 안 쓰나
초기 탐색 대화처럼 형식보다 아이디어 발산이 목적일 때(단, 최종 정리 단계에 형식 지정 권장)

### 예시
JSON 스키마:
```
{
  "type": "object",
  "required": ["summary", "items"],
  "properties": {
    "summary": { "type": "string" },
    "items": {
      "type": "array",
      "items": { "type": "object", "required": ["title", "action"],
        "properties": { "title": {"type": "string"}, "action": {"type": "string"} }
      }
    }
  }
}
```

표(마크다운):
```
| 항목 | 값 | 비고 |
|---|---|---|
| 전환율 | 3.2% | 최근 7일 |
| CPA | 18,000원 | 목표치 충족 |
```

### 나쁜예
"형식은 알아서" / "표로"(컬럼·정렬·단위 미지정) / JSON에 주석·자유 텍스트 섞기

### 이렇게 적어보세요
"형식: JSON(스키마 위와 동일) | 검증: 실패 시 재생성 | 표시는 마크다운 표(컬럼: …) | 길이: 항목 5개 이내"

### 자주하는 실수
필수 필드 누락, 단위/포맷 미명시, JSON에 설명 텍스트 삽입, 표의 열 순서/헤더 누락

### 더 좋게
유효한 예시 1개를 함께 제공, 코드펜스로 감싸 파싱 안정화, 키 이름·단위 표준화(SSOT)

### 성공 기준 예시
스키마/표 형식 검증 통과, 필수 필드·열·단위 100% 충족, 불필요한 텍스트 없음

참고: 지시 구조/성공 기준은 3장, 제한/대응 전략은 6장 참조

## 4.3 Few-shot / Zero-shot 예시 활용
짧은 예시로 기대 형식·톤·깊이를 정렬합니다.

### 언제 유용한가
특정 톤/형식 요구, 도메인 특화 표현, 단계적 추론(Chain-of-Thought) 유도

### 언제 안 쓰나
컨텍스트 창이 빠듯할 때 장문의 예시 다수(필요 시 짧고 핵심만, 1–2개 권장)

### 예시
```
예시 입력: “지표를 요약해줘”
예시 출력: “불릿 3개(전환율/CPA/주요변동), 마지막에 다음 액션 1개”
```

### 나쁜예
장문 예시 5개 이상, 실제 과업과 무관한 형식, 예시와 본문 지시가 충돌

### 이렇게 적어보세요
"예시는 2개 이내, 각 2–3줄. 본 요청은 ‘예시 출력 형식’을 따릅니다. 길이 제한: 불릿 3개+액션 1개"

### 자주하는 실수
예시가 본문보다 길어 핵심 지침이 밀림, 예시/본문 불일치, 한/영 혼용으로 톤 혼란

### 더 좋게
예시 뒤에 ‘실제 요청’을 분리해 배치, 도메인 용어·톤을 예시로 선제 정의

### 성공 기준 예시
출력이 예시 형식·톤을 정확히 따르고, 길이 제한·언어 지시(한국어)를 준수

참고: 지시 구조/성공 기준은 3장, 제한/대응 전략은 6장 참조

---

## 참고 자료

- Brown, T., et al. (2020). Language Models are Few-Shot Learners. arXiv preprint arXiv:2005.14165.
- Liu, J., et al. (2023). Lost in the Middle: How Language Models Use Long Contexts. arXiv preprint arXiv:2307.03172.
- Wei, J., et al. (2022). Chain of Thought Prompting Elicits Reasoning in Large Language Models. arXiv preprint arXiv:2201.11903.
- White, J., et al. (2023). A Prompt Pattern Catalog to Enhance Prompt Engineering with ChatGPT. arXiv preprint arXiv:2302.11382.
- Microsoft. (2023). Prompt Engineering Guide. https://learn.microsoft.com/en-us/azure/ai-services/openai/concepts/advanced-prompt-engineering

---

**상태:** v1-draft  
**작성 시작일:** 2025-09-27
