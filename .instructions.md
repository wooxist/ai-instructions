# AI 협업 지침

이 파일은 AI가 이 프로젝트에서 작업할 때 반드시 따라야 하는 규칙입니다.

---

## 🎯 세션 관리 시스템 (최우선)

### 세션 시작 패턴 감지

다음 패턴 시 자동으로 세션 시작:
- "세션 시작", "이어서", "계속", "continue"
- "오늘 할 일", "TODO 확인"
- 작업 지시가 포함된 첫 메시지

### 세션 시작 프로세스

1. `.session/` 에서 가장 최근 파일 읽기
2. 오늘 날짜로 새 세션 파일 생성: `.session/YYYY-MM-DD.md`
3. 이전 세션의 "다음에 할 것" 확인
4. `.work/TODO.md` 에서 우선순위 확인
5. 사용자에게 오늘 작업 제안

### 세션 업데이트 (3-레벨)

**레벨 1: 자동 저장**
- 체크박스 완료 시 (`[ ]` → `[x]`)
- 중요 파일 생성 시
- 10분마다 (새 작업 있을 때)

**레벨 2: 명시적 저장**
- "저장", "체크포인트", "기록해줘"

**레벨 3: 세션 종료**
- "오늘은 여기까지", "종료", "끝"
- 종료 시각 기록
- "다음 세션에서 할 것" 정리

---

## 📋 작업 관리 시스템

### ROADMAP → TODO → Session 흐름

```
ROADMAP (전략) - root/ROADMAP.md
   ↓ Phase를 세부 작업으로 분해
TODO (실행) - .work/TODO.md
   ↑ 즉흥 작업도 추가
   ↓ 실제 작업
Session (기록) - .session/YYYY-MM-DD.md
```

### 작업 추가 규칙

**1. ROADMAP에서 분해**
```
ROADMAP: Phase X.X - [작업명]
    ↓
TODO: [ ] 세부 작업 1
      [ ] 세부 작업 2
      [ ] 세부 작업 3
```

**2. 즉흥 작업 발견**
```
세션 중 발견 → 복잡도 판단 → TODO 추가

간단 (< 30분): TODO에 추가 → 즉시 처리
중간 (30분~2h): TODO에 추가 → 계획 후 처리
복잡 (> 2h): task 폴더 생성 → 상세 계획
```

### 복잡한 작업 관리

2시간 이상 걸리는 작업은 별도 폴더:
```
.work/tasks/task-XXX-작업명/
├── context.md       # 배경, 목표
├── plan.md         # 상세 계획
└── artifacts/      # 산출물
```

---

## 🔄 문서 동기화 규칙

### 작업 완료 시
- [ ] 세션 파일 체크박스 완료
- [ ] TODO.md "완료된 작업"에 이동 + 세션 링크
- [ ] ROADMAP.md 진행률 업데이트 (Phase 단위)

### 새 작업 추가 시
- [ ] TODO.md에 추가
- [ ] ROADMAP 연계 or 즉흥 섹션 구분
- [ ] 예상 소요 시간 기록

---

## 📁 파일 구조

```
project/
├── ROADMAP.md         # 전체 로드맵 (root)
├── .session/          # 일기
│   └── YYYY-MM-DD.md
├── .work/            # 작업 관리
│   ├── TODO.md
│   └── tasks/
├── .instructions.md  # 이 파일
└── [프로젝트 파일들]
```

---

## 🎯 프로젝트별 규칙

### 이 프로젝트 특성
- **프로젝트 구조**: 단일 프로젝트 (Single Project)
- **타입**: 책 집필 + 템플릿 개발 + 에이전트 설계
- **주요 디렉토리**: 
  - `/book`: AI 협업 가이드북 콘텐츠
  - `/.project_template`: 메타 프로젝트 구조
- **목표**: AI 협업 가이드북 작성 및 템플릿 시스템 구축

### 작업 시 주의사항
- ROADMAP.md는 root에 있음 (전체 프로젝트 계획)
- TODO.md는 .work/에 있음 (현재 할 일)
- 템플릿 수정 시 backward compatibility 고려
- 용어는 glossary.md 기준 사용

### 가이드북 집필 원칙 (from WRITER.md)
- **톤앤매너**: 실용적인 '일잘법' 가이드북 (학술 논문 아님)
- **핵심 비유**: AI를 '믿을 수 있는 부사수' 또는 '든든한 업무 동료'로 묘사
- **구조**: 5개 파트 유지 (Part 1-5)
- **체크리스트**: 각 장 말미에 "실습 체크리스트" 포함
- **다이어그램**: Mermaid 스타일 가이드 준수

---

## 🚨 주의사항

### 절대 하지 말 것
- ❌ 세션 파일 읽지 않고 작업 시작
- ❌ TODO 없이 바로 작업
- ❌ 중요한 결정을 세션에 기록 안 함
- ❌ 완료 작업을 TODO에 업데이트 안 함
- ❌ book/index.md의 서브챕터 목록 삭제
- ❌ 과장되거나 미래지향적인 표현 사용

### 항상 할 것
- ✅ 세션 시작 시 이전 세션 확인
- ✅ 작업 전 TODO 확인
- ✅ 중요 결정은 즉시 기록
- ✅ 작업 완료 시 체크박스 완료
- ✅ book/ 업데이트 시 index.md와 ROADMAP.md 동기화
- ✅ Mermaid 다이어그램에 초기화 스니펫 포함

---

## 📝 버전

- v2.0.0 (2025-10-06): skeleton 구조 적용, 프로젝트별 규칙 추가
- v1.0.0 (2025-10-06): 초기 설정
