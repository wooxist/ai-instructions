# 메타 에이전트 설계 지식 베이스

> 메타 에이전트가 아키텍트 및 워커 에이전트를 설계하는 데 필요한 모든 지식을 체계적으로 정리한 문서입니다.

## 📚 문서 구조

### [01. 핵심 설계 원칙](./01-core-principles.md)
**목적**: 모든 에이전트 설계의 기반이 되는 메타 원칙 이해

**주요 내용**:
- 기본 개념 (인스트럭션, 에이전트, 계층 구조)
- 메타 원칙 (SSOT, SoC, MECE, 원자성, 산출물 중심, 피드백 루프 등)
- 인스트럭션 8가지 핵심 구성 요소
- 에이전트 유형별 필수 원칙 매트릭스
- 실전 체크리스트

**이 문서를 참조할 때**:
- 새 에이전트를 설계하기 전
- 설계 원칙을 상기시키고 싶을 때
- 어떤 원칙을 적용해야 할지 모를 때

---

### [02. 에이전트 설계 방법론](./02-agent-design-methodology.md)
**목적**: 에이전트의 범위 결정, 입출력 설계, AI 한계 극복 전략 습득

**주요 내용**:
- 에이전트 범위 결정 (컨텍스트 윈도우, 단일 책임 원칙)
- AI의 한계 극복 전략 (할루시네이션, 비일관성 방지)
- 입출력 설계 (출력 우선 설계, 구조화된 출력, 동적 명세)
- 에이전트 설계 템플릿 (워커, 아키텍트)
- 실전 예시: 단계별 설계 과정

**이 문서를 참조할 때**:
- 에이전트 크기를 결정할 때
- 입출력 명세를 작성할 때
- 할루시네이션을 방지하고 싶을 때
- 에이전트 템플릿이 필요할 때

---

### [03. 아키텍트 에이전트 패턴](./03-architect-patterns.md)
**목적**: 워크플로우를 설계하고 워커를 관리하는 아키텍트 에이전트 설계 방법 학습

**주요 내용**:
- 아키텍트의 정의와 역할
- 아키텍트 설계 패턴 (파이프라인, 생성-검증, 병렬 실행, 조건부 라우팅)
- 워커 평가 전략 (직접 평가, 평가자 위임)
- 작업 상태 관리 (_job_log.json)
- 아키텍트 인스트럭션 템플릿
- 실전 예시: 주간 콘텐츠 생성 아키텍트

**이 문서를 참조할 때**:
- 아키텍트 에이전트를 만들 때
- 워크플로우 패턴을 선택할 때
- 워커 검증 전략을 설계할 때
- 여러 워커를 조율해야 할 때

---

### [04. 워커 에이전트 패턴](./04-worker-patterns.md)
**목적**: 구체적인 작업을 실행하는 다양한 유형의 워커 에이전트 설계 방법 습득

**주요 내용**:
- 워커 에이전트 기본 개념
- 워커 유형별 패턴:
  - 분류 워커 (Classifier)
  - 추출 워커 (Extractor)
  - 변환 워커 (Transformer)
  - 생성 워커 (Generator)
  - 검증 워커 (Validator/Reviewer)
  - 요약 워커 (Summarizer)
- 복잡도별 설계 가이드 (간단/전문/복잡)
- 워커 라이브러리 구축 전략
- 실전 체크리스트

**이 문서를 참조할 때**:
- 특정 유형의 워커가 필요할 때
- 워커 설계 예시가 필요할 때
- 복잡도에 맞는 설계 수준을 결정할 때
- 워커 라이브러리를 구축할 때

---

### [05. 협업 시스템 설계](./05-collaboration-systems.md)
**목적**: 여러 에이전트가 협력하는 완전한 시스템을 설계하는 방법 학습

**주요 내용**:
- 워크플로우 설계 기본 (workflow.yaml)
- 기본 워크플로우 패턴 (순차, 병렬, 조건부, 루프)
- 계층적 협업 아키텍처 (메타-아키텍트-워커)
- 디렉토리 구조와 산출물 관리
- 실전 통합 예시: 주간 고객 리뷰 분석 시스템
- 설계 체크리스트

**이 문서를 참조할 때**:
- 전체 시스템을 구축할 때
- workflow.yaml을 작성할 때
- 디렉토리 구조를 설계할 때
- 계층 간 통신을 정의할 때
- 완전한 예시가 필요할 때

---

## 🎯 사용 가이드

### 시나리오 1: 처음 시작하는 경우
1. **01-core-principles.md** 읽기 → 기본 개념과 원칙 이해
2. **02-agent-design-methodology.md** 읽기 → 에이전트 설계 방법 학습
3. **04-worker-patterns.md** 읽기 → 간단한 워커부터 만들어보기
4. **03-architect-patterns.md** 읽기 → 워커들을 조율하는 아키텍트 만들기
5. **05-collaboration-systems.md** 읽기 → 전체 시스템 통합

### 시나리오 2: 특정 에이전트만 필요한 경우
- **워커 에이전트 필요** → 04-worker-patterns.md 직접 참조
- **아키텍트 에이전트 필요** → 03-architect-patterns.md 직접 참조
- **전체 시스템 필요** → 05-collaboration-systems.md 직접 참조

### 시나리오 3: 문제 해결이 필요한 경우
- **할루시네이션 문제** → 02-agent-design-methodology.md § 2.1
- **비일관성 문제** → 02-agent-design-methodology.md § 2.2
- **워커 검증 방법** → 03-architect-patterns.md § 3
- **워크플로우 패턴 선택** → 03-architect-patterns.md § 2 또는 05-collaboration-systems.md § 2

---

## 📋 빠른 참조

### 8가지 핵심 구성 요소
모든 에이전트 인스트럭션에 포함:
1. 목적 (Purpose)
2. 역할 (Role)
3. 입력 (Input)
4. 처리 방법 (Process)
5. 출력 (Output)
6. 제약 조건 (Constraints)
7. 평가 기준 (Evaluation)
8. 기초 지식 (Principles)

### 핵심 메타 원칙
- **SSOT**: 단일 진실 공급원
- **SoC**: 관심사 분리
- **MECE**: 중복 없이, 빠짐없이
- **원자성**: 최소 단위로 분해
- **산출물 중심**: 출력 우선 정의
- **피드백 루프**: 의도 확인 + 자기 검증
- **투명성·추적성**: 모든 결정 기록

### 에이전트 유형별 체크포인트

**워커 (Worker)**:
- [ ] 단일 책임
- [ ] 재사용 가능
- [ ] 명확한 입출력
- [ ] 컨텍스트 윈도우 20-30% 이하

**아키텍트 (Architect)**:
- [ ] 워커들이 MECE
- [ ] 검증 전략 정의
- [ ] 실패 처리 로직
- [ ] 작업 로그 관리

**메타 (Meta)**:
- [ ] 시스템 목표 명확
- [ ] 아키텍트 선택 기준
- [ ] 성능 지표 모니터링

---

## 🔧 실전 적용 흐름

### 메타 에이전트가 새 에이전트를 설계할 때:

```
1. 목표 분석
   ↓ "고객 리뷰를 분석하여 주간 보고서 생성"
   
2. 범위 결정 (02-agent-design-methodology.md § 1)
   ↓ 워커 4개로 분리 (분류, 분석, 추출, 보고)
   
3. 각 워커 설계 (04-worker-patterns.md)
   ↓ 분류기, 분석기, 추출기, 생성기 인스트럭션 작성
   
4. 아키텍트 설계 (03-architect-patterns.md)
   ↓ 파이프라인 패턴 선택
   ↓ 검증 전략 정의
   
5. 워크플로우 정의 (05-collaboration-systems.md)
   ↓ workflow.yaml 작성
   ↓ 디렉토리 구조 생성
   
6. 검증
   ↓ 체크리스트로 확인 (각 문서 마지막)
```

---

## 📖 원본 책 참조

이 지식 베이스는 `/book/` 디렉토리의 다음 장들에서 추출되었습니다:
- 01-03장: 기본 개념
- 04장: 메타 원칙
- 05장: 역할과 제약
- 06장: 입출력 설계
- 07장: 워크플로우
- 10장: 협업 아키텍처
- 11장: 실전 패턴

더 자세한 내용과 배경 이론은 원본 책을 참조하세요.

---

## 🎓 학습 팁

### Few-Shot Learning을 위한 활용법
1. **원칙 숙지**: 01-core-principles.md의 원칙들을 먼저 이해
2. **예시 학습**: 각 문서의 실전 예시를 반복해서 읽기
3. **패턴 인식**: 유사한 문제에 어떤 패턴을 적용했는지 파악
4. **직접 적용**: 체크리스트를 따라 실제로 설계해보기
5. **반복 개선**: 만든 에이전트를 원칙에 맞춰 검토하고 개선

### 효과적인 참조 방법
- 문서 내 검색: 특정 키워드로 필요한 섹션 빠르게 찾기
- 체크리스트 활용: 설계 시 빠뜨린 부분 확인
- 예시 비교: 비슷한 유형의 예시 여러 개 비교하며 패턴 파악

---

## ✅ 최종 확인

새 에이전트 설계 후 다음을 확인하세요:

1. [ ] 01-core-principles.md의 해당 원칙을 모두 적용했는가?
2. [ ] 02-agent-design-methodology.md의 설계 템플릿을 따랐는가?
3. [ ] 워커/아키텍트별 체크리스트를 모두 통과했는가?
4. [ ] 입출력 형식이 명확히 정의되었는가?
5. [ ] 실패 처리 전략이 있는가?
6. [ ] 평가 기준이 측정 가능한가?

---

**Version**: 1.0  
**Last Updated**: 2025-10-04  
**Based on**: AI Instructions Design Guide (book/)
