# 워커 에이전트 설계 패턴: 표준 라이브러리 명세

> **최상위 지침:** 이 문서는 시스템의 모든 워커 에이전트가 따라야 할 **표준 라이브러리 명세**이다. 여기에 정의된 패턴과 인터페이스는 워커의 품질과 재사용성을 보장하는 유일한 기준이다.

## 1. 워커 에이전트의 정의와 역할

**워커 에이전트**는 명확하게 정의된 단일 책임을 수행하는 **재사용 가능한 도구(Tool)**이다. 모든 워커는 다른 컨텍스트를 알 필요 없이, 주어진 입력에 대해 예측 가능한 출력을 생성하는 순수 함수처럼 작동해야 한다.

## 2. 복잡도별 설계 원칙

| 복잡도 | 특징 | 대표 패턴 | 필수 원칙 |
| :--- | :--- | :--- | :--- |
| **간단(Simple)** | 단순 반복, 규칙 기반 | 요약, 변환 | `산출물 중심` |
| **전문(Standard)** | 전문 지식, 창의성 요구 | 생성, 분류 | `산출물 중심`, `SSOT`, `컨텍스트 명시성` |
| **복잡(Complex)** | 높은 정확성, 위험도 | 추출, 검증 | `모든 원칙`, `Human-in-the-Loop` |

## 3. 표준 워커 라이브러리 명세 (v1.0)

### 3.1. 생성 워커 (Generator)

- **목적**: 주어진 컨텍스트와 스타일에 따라 새로운 콘텐츠를 창작한다.
- **인터페이스**: `Generator(context: JSON, style_guide: JSON) -> new_content: JSON`
  - `context`: 생성할 내용의 주제, 키워드, 핵심 메시지 등 '무엇'에 대한 정보.
  - `style_guide`: 결과물의 톤앤매너, 길이, 형식 등 '어떻게'에 대한 정보.
- **실패 조건**: `context`가 비어있거나 `style_guide`의 요구사항이 상호 모순될 경우.

### 3.2. 요약 워커 (Summarizer)

- **목적**: 긴 텍스트의 핵심 정보를 압축한다.
- **인터페이스**: `Summarizer(source_text: string, options: JSON) -> summary: JSON`
  - `source_text`: 요약할 원본 텍스트.
  - `options`: `target_length`(목표 길이), `format`(불릿/줄글), `audience`(대상 독자) 등 요약 방식.
- **실패 조건**: `source_text`가 너무 짧거나 분석할 수 없는 형식일 경우.

### 3.3. 추출 워커 (Extractor)

- **목적**: 비정형 텍스트에서 구조화된 데이터를 뽑아낸다.
- **인터페이스**: `Extractor(source_text: string, schema: JSON) -> extracted_data: JSON`
  - `source_text`: 정보를 추출할 원본 텍스트.
  - `schema`: 추출할 데이터의 구조를 정의한 JSON Schema.
- **실패 조건**: `source_text`에서 `schema`의 필수 필드를 하나도 찾을 수 없을 경우.

### 3.4. 분류 워커 (Classifier)

- **목적**: 입력을 미리 정의된 카테고리 중 하나로 나눈다.
- **인터페이스**: `Classifier(data_to_classify: string, categories: array) -> classification_result: JSON`
  - `data_to_classify`: 분류할 대상 텍스트.
  - `categories`: 분류 기준으로 사용될 카테고리 목록.
- **실패 조건**: 어떤 `categories`도 최소 신뢰도 임계값을 넘지 못할 경우.

### 3.5. 검증 워커 (Validator/Reviewer)

- **목적**: 다른 에이전트의 결과물을 평가 기준에 따라 검사한다.
- **인터페이스**: `Validator(artifact_to_review: JSON, rubric: JSON) -> validation_result: JSON`
  - `artifact_to_review`: 평가할 대상 산출물.
  - `rubric`: 평가 기준 항목과 점수를 정의한 평가표.
- **실패 조건**: `artifact_to_review`나 `rubric`의 형식이 올바르지 않을 경우.

### 3.6. 변환 워커 (Transformer)

- **목적**: 데이터를 한 형식에서 다른 형식으로 손실 없이 변환한다.
- **인터페이스**: `Transformer(source_data: file, target_format: string) -> transformed_data: file`
  - `source_data`: 변환할 원본 데이터 파일 (CSV, JSON 등).
  - `target_format`: 변환 목표 형식 (e.g., "JSON", "CSV").
- **실패 조건**: `source_data`의 형식이 손상되어 파싱할 수 없을 경우.

---
## 4. 최종 지침: 메타 에이전트의 의무

> **메타 에이전트 지시사항:**
>
> 1.  **준수 및 활용**: 새로운 워커를 설계하기 전, 이 표준 라이브러리에 재사용 가능한 워커가 있는지 **반드시 확인**하고 최대한 활용하라. 불필요한 중복은 시스템의 붕괴를 초래한다.
> 2.  **확장**: 만약 새로운 유형의 범용 워커를 설계해야 한다면, 반드시 이 문서와 동일한 형식(목적, 인터페이스, 실패 조건)으로 명세를 작성하여 표준 라이브러리에 추가할 것을 상위 메타 에이전트에게 제안해야 한다. 당신의 임무는 시스템을 사용하는 것뿐만 아니라, 시스템을 더 나은 방향으로 발전시키는 것이다.
> 3.  **설계 검증**: 당신이 생성하는 모든 워커는 아래의 체크리스트를 **반드시 통과**해야 한다.

### 최종 설계 검증 체크리스트
- **[ ] 단일 책임**: 워커가 정확히 하나의 명확한 작업을 수행하는가?
- **[ ] 인터페이스 정의**: 입력, 출력, 실패 조건이 명확하게 정의되었는가?
- **[ ] 재사용성**: 워커가 특정 프로젝트나 맥락에 종속되지 않고 범용적으로 설계되었는가?
- **[ ] 예외 처리**: 정보가 불분명하거나 없을 때의 행동(예: `null` 처리)이 정의되었는가?
- **[ ] 제약 조건**: 해서는 안 될 일(추측, 사실 왜곡 등)이 명시되었는가?
