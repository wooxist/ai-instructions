# 5장. 전략: 에이전트 중심 설계

**Part 2: 설계 원칙과 구성 요소**

### 이 장에서 배우는 것
- AI의 한계를 극복하는 핵심 전략으로서 '에이전트 중심 설계' 이해
- 좋은 에이전트를 만드는 세 가지 핵심 설계 원칙
- 에이전트의 정의와 세 가지 핵심 구성 요소(정체성, 지식, 도구)

---

## 들어가며: 문제 해결을 위한 전문가 팀 꾸리기

4장에서 우리는 AI와 협업할 때 마주치는 현실적인 제약들(Context Window, 할루시네이션 등)을 살펴보았습니다. 거대한 지시 하나로 모든 것을 해결하려는 방식은 이런 제약들 때문에 실패하기 쉽습니다.

그렇다면 이 문제들을 어떻게 해결할 수 있을까요? 핵심 해결책은 **'에이전트(Agent)'라는 가상의 전문가를 설계하고 위임하는 것**입니다. 즉, 하나의 만능 AI에게 모든 것을 맡기는 대신, 특정 역할과 책임을 가진 여러 전문가를 만들어 협력시키는 전략입니다.

이러한 '에이전트 중심 설계'는 다음과 같은 세 가지 핵심 설계 원칙에 기반합니다. 이 원칙들은 4장의 문제들을 직접적으로 해결하는 나침반이 되어줄 것입니다.

---

## 5.1 에이전트 설계의 핵심 원칙

좋은 에이전트를 설계하고, 이들을 통해 AI의 한계를 관리하기 위해 우리는 세 가지 종류의 원칙을 따라야 합니다.

### 5.1.1 구조적 원칙: 설계의 뼈대 세우기

- **관심사 분리 (Separation of Concerns)**: 하나의 에이전트는 하나의 주요 책임만 맡습니다. 이는 4장에서 본 '유지보수 어려움' 문제를 해결하는 가장 강력한 방법입니다. '리서치 에이전트', '초안 작성 에이전트', '검수 에이전트'처럼 역할을 나누면 각 에이전트가 단순해져 관리하기 쉽습니다.
- **단일 진실 공급원 (Single Source of Truth, SSOT)**: 여러 에이전트가 공통으로 사용하는 규칙, 템플릿 등을 별도의 파일로 분리하여 중복을 제거하고 일관성을 유지합니다.
- **MECE (Mutually Exclusive, Collectively Exhaustive)**: 내용을 중복 없이, 빠짐없이 구성합니다. 예를 들어, 오류 유형을 '입력 오류'와 '처리 오류'로 명확히 나누면, 각 유형에 대한 대응 전략을 체계적으로 수립할 수 있습니다.
- **원자성 (Atomicity)**: 각 작업을 더 이상 나눌 수 없는 최소 단위로 구성하여 성공/실패를 명확히 판단할 수 있게 합니다.

### 5.1.2 실행 원칙: AI와 함께 일하는 방식 정의하기

- **산출물 중심 (Output-Driven)**: 과정보다 최종 결과물의 요건을 먼저 명확히 정의합니다. "필수 필드 3개를 포함하는 JSON 형식으로 출력"처럼 기계가 검증할 수 있는 사양을 제시하면 AI는 목표를 향해 더 정확하게 움직입니다.
- **피드백 루프 (Feedback Loop)**: AI가 스스로 결과물을 평가하고 요구사항 충족 여부를 확인하도록(자기 검증) 하거나, 지시가 모호할 때 사용자에게 질문하도록(의도 확인) 하여 신뢰도를 높입니다. 이는 '할루시네ATION'과 '비일관성' 문제를 해결하는 데 필수적입니다.
- **점진적 개선 (Iterative Refinement)**: 초안을 빠르게 만든 뒤, 짧은 주기의 피드백을 통해 품질을 점차 높여나가는 애자일 방식과 같습니다.
- **컨텍스트 명시성 (Context Explicitness)**: AI가 추측하거나 가정하지 않도록, 필요한 모든 정보를 명시적으로 제공합니다.

### 5.1.3 검증 및 책임 원칙: 신뢰와 안전성 확보하기

- **투명성 및 추적 가능성 (Transparency & Traceability)**: 모든 결정과 결과물의 근거를 명확히 남겨, 문제가 발생했을 때 원인을 추적하고 재현할 수 있도록 보장합니다.
- **윤리적 경계 (Ethical Boundaries)**: 개인정보, 저작권, 민감한 데이터 등에 대한 명확한 한계를 설정하고, AI에게 필요한 최소한의 권한만 부여합니다.
- **Human-in-the-Loop (인간 참여)**: 중요한 의사결정에 반드시 사람의 검토를 포함시켜 AI와의 협업에서 발생할 수 있는 리스크를 관리하고, 최종적인 책임은 인간에게 있음을 명확히 합니다.

이 원칙들을 바탕으로, 우리는 이제 '에이전트'라는 구체적인 실행 단위를 설계하는 방법을 알아보겠습니다.

---

## 5.2 에이전트란 무엇인가?

**에이전트**는 특정 목표를 달성하기 위해 **자율적으로 행동하는 가상의 전문가**입니다. 단순히 지시를 수동적으로 따르는 것을 넘어, 주어진 역할과 규칙에 따라 스스로 판단하고 행동하는 주체입니다.

- **비유**: '이메일 요약해줘'라는 프롬프트는 **일회성 지시**입니다. 반면, "당신은 핵심만 간결하게 보고하는 전문 비서입니다. 앞으로 모든 이메일은 3줄로 요약하여 보고하세요"라고 정의된 인스트럭션을 받은 AI는 **'요약 전문 에이전트'**가 됩니다.

## 5.3 에이전트의 핵심 구성 요소: 정체성, 지식, 도구

효과적인 에이전트를 설계하기 위해서는 세 가지 핵심 요소를 정의해야 합니다.

### 5.3.1 정체성(Identity) 부여하기

에이전트에게 구체적인 역할, 페르소나, 목표를 부여하는 것입니다.

- **역할(Role)**: "당신은 10년차 마케팅 카피라이터입니다."
- **페르소나(Persona)**: "항상 자신감 있고 유머러스한 톤을 유지하세요."
- **목표(Goal)**: "신제품의 특징을 강조하는 광고 문구 5개를 만드세요."

### 5.3.2 지식(Knowledge) 제공하기

에이전트가 작업을 수행하는 데 필요한 정보를 제공하는 것입니다.

- **인라인 지식(In-line Knowledge)**: 프롬프트 내에 직접 정보를 제공합니다.
- **외부 지식(External Knowledge)**: 문서, 데이터베이스 등 외부 소스를 참조하도록 지시합니다.

### 5.3.3 도구(Tools) 활용하기

에이전트가 특정 작업을 수행하기 위해 사용할 수 있는 외부 도구를 정의하는 것입니다.

- **검색(Search)**: 최신 정보를 찾기 위해 웹 검색을 사용하도록 허용합니다.
- **코드 실행(Code Execution)**: 데이터 분석이나 계산을 위해 코드를 실행할 수 있는 능력을 부여합니다.

---

## 5.4 에이전트 설계 템플릿

이상의 내용을 종합하여, 새로운 에이전트를 설계할 때 다음 템플릿을 활용할 수 있습니다.

```markdown
# [에이전트 이름] 설계 명세서

## 1. 정체성 (Identity)
- **역할**: 
- **페르소나**: 
- **핵심 목표**: 

## 2. 지식 (Knowledge)
- **필수 입력 정보**: 
- **참조할 외부 자료**: 

## 3. 도구 (Tools)
- **사용 가능한 도구**: 

## 4. 핵심 규칙 및 제약 조건
- **반드시 지켜야 할 규칙**:
- **절대 해서는 안 되는 행동**:

## 5. 출력 형식
- **결과물 형식**: 
```

---

## 실습 체크리스트

### 이 장을 완료했다면:
- [ ] 에이전트 중심 설계가 왜 AI의 한계를 극복하는 전략인지 설명할 수 있다.
- [ ] 에이전트 설계의 세 가지 핵심 원칙 그룹을 이해했다.
- [ ] 에이전트의 세 가지 핵심 구성 요소(정체성, 지식, 도구)를 설명할 수 있다.
- [ ] 설계 템플릿을 사용하여 간단한 에이전트를 정의할 수 있다.

### 실습 과제
1. 자신의 업무 중 하나를 골라, 그 업무를 담당할 '에이전트'를 설계 템플릿에 맞춰 정의해보세요.
2. 4장에서 논의된 제약 조건 중 하나를 선택하고, 당신이 설계한 에이전트가 그 제약을 어떻게 해결할 수 있을지 설명해보세요.


---

## 5.1 에이전트 설계의 핵심 원칙

### 5.1.1 구조적 원칙: 설계의 뼈대 세우기

- **관심사 분리 (SoC)**: 하나의 에이전트는 하나의 주요 책임만 맡습니다. 이는 4장의 '유지보수 어려움' 문제를 해결하는 가장 강력한 방법입니다.
- **모듈화**: 각 에이전트는 독립적으로 작동하고 교체 가능한 부품처럼 설계합니다.

### 5.1.2 실행 원칙: AI와 함께 일하는 방식 정의하기

- **점진성**: 작은 단위로 시작해 점진적으로 개선하고 확장합니다.
- **피드백**: AI가 생성한 결과물을 검증하고 피드백하는 루프를 만듭니다. 이는 '할루시네이션'과 '비일관성' 문제를 해결하는 데 필수적입니다.

### 5.1.3 검증 및 책임 원칙: 신뢰와 안전성 확보하기

- **투명성**: AI가 어떤 근거로 결론을 내렸는지 추적할 수 있어야 합니다.
- **설명 가능성**: AI의 판단 과정을 사람이 이해할 수 있는 형태로 설명할 수 있어야 합니다.

---

## 5.2 에이전트란 무엇인가?

**에이전트**는 특정 목표를 달성하기 위해 **자율적으로 행동하는 가상의 전문가**입니다. 주어진 역할과 규칙에 따라 스스로 판단하고 행동하는 주체입니다.

## 5.3 에이전트의 핵심 구성 요소: 정체성, 지식, 도구

효과적인 에이전트를 설계하기 위해서는 세 가지 핵심 요소를 정의해야 합니다.

### 5.3.1 정체성(Identity) 부여하기
에이전트에게 구체적인 역할, 페르소나, 목표를 부여하는 것입니다.
- **역할(Role)**: "당신은 10년차 마케팅 카피라이터입니다."
- **페르소나(Persona)**: "항상 자신감 있고 유머러스한 톤을 유지하세요."
- **목표(Goal)**: "신제품의 특징을 강조하는 광고 문구 5개를 만드세요."

### 5.3.2 지식(Knowledge) 제공하기
에이전트가 작업을 수행하는 데 필요한 정보를 제공하는 것입니다.

### 5.3.3 도구(Tools) 활용하기
에이전트가 특정 작업을 수행하기 위해 사용할 수 있는 외부 도구를 정의하는 것입니다.

---

## 실습 체크리스트

### 이 장을 완료했다면:
- [ ] 에이전트 중심 설계가 왜 AI의 한계를 극복하는 전략인지 설명할 수 있다.
- [ ] 에이전트 설계의 세 가지 핵심 원칙 그룹을 이해했다.
- [ ] 에이전트의 세 가지 핵심 구성 요소(정체성, 지식, 도구)를 설명할 수 있다.

### 실습 과제
1. 자신의 업무 중 하나를 골라, 그 업무를 담당할 '에이전트'를 정의해보세요.
2. 4장에서 논의된 제약 조건 중 하나를 선택하고, 당신이 설계한 에이전트가 그 제약을 어떻게 해결할 수 있을지 설명해보세요.

