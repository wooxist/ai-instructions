# Ch 16 ì‹¤ìŠµ ê³¼ì œ: ì—ì´ì „íŠ¸ ì„¤ê³„

Part 4ì˜ ë§ˆì§€ë§‰ ì‹¤ìŠµì…ë‹ˆë‹¤! ì´ì œ ì—¬ëŸ¬ë¶„ì´ ì§ì ‘ ì—ì´ì „íŠ¸ë¥¼ ë§Œë“¤ì–´ë³¼ ì°¨ë¡€ì˜ˆìš”.

---

## ì‹¤ìŠµ ê°œìš”

ì´ ì‹¤ìŠµì—ì„œëŠ” **3ê°€ì§€ ë‚œì´ë„**ì˜ ì—ì´ì „íŠ¸ë¥¼ ë‹¨ê³„ë³„ë¡œ êµ¬í˜„í•©ë‹ˆë‹¤:
- ğŸŸ¢ **ê³¼ì œ 1 (ê¸°ë³¸)**: ë‹¨ì¼ ì—ì´ì „íŠ¸ - ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ìƒì„±
- ğŸŸ¡ **ê³¼ì œ 2 (ì¤‘ê¸‰)**: ë³‘ë ¬ ì—ì´ì „íŠ¸ íŒ€ - ì£¼ê°„ ë¦¬í¬íŠ¸ ìƒì„±
- ğŸ”´ **ê³¼ì œ 3 (ê³ ê¸‰)**: ê³„ì¸µì  ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ - ì œí’ˆ ê¸°íš

ê° ê³¼ì œëŠ” ë…ë¦½ì ìœ¼ë¡œ ì§„í–‰í•  ìˆ˜ ìˆì§€ë§Œ, ìˆœì„œëŒ€ë¡œ í•˜ëŠ” ê²ƒì„ ì¶”ì²œí•´ìš”.

---

## ğŸŸ¢ ê³¼ì œ 1: ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ìƒì„± ì—ì´ì „íŠ¸ (ê¸°ë³¸)

### ëª©í‘œ
ë‹¨ì¼ ì—ì´ì „íŠ¸ë¥¼ êµ¬í˜„í•˜ì—¬ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ë¥¼ ìë™ ìƒì„±í•˜ëŠ” ì‹œìŠ¤í…œì„ ë§Œë“­ë‹ˆë‹¤.

### ì‹œë‚˜ë¦¬ì˜¤
```
ë§¤ì£¼ ê¸°ìˆ  ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì•¼ í•˜ëŠ” ê°œë°œìì…ë‹ˆë‹¤.
ì£¼ì œë§Œ ì£¼ë©´ ìë™ìœ¼ë¡œ ì´ˆì•ˆì„ ì‘ì„±í•˜ëŠ” ì—ì´ì „íŠ¸ë¥¼ ë§Œë“¤ê³  ì‹¶ì–´ìš”.

ì…ë ¥: "Python ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë° ì‹¤ì „ ê°€ì´ë“œ"
ì¶œë ¥: ì™„ì„±ëœ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ (ë§ˆí¬ë‹¤ìš´)
```

### ìš”êµ¬ì‚¬í•­

**1. ì‚¬ê³  í´ëŸ¬ìŠ¤í„° ì„¤ê³„**
```yaml
ì‚¬ê³  í´ëŸ¬ìŠ¤í„° ID: tc-blog-001
ëª©í‘œ: ê¸°ìˆ  ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ì‘ì„±
í•µì‹¬ ê°€ì¹˜:
  - ì •í™•ì„±: ê¸°ìˆ ì ìœ¼ë¡œ ì •í™•í•œ ë‚´ìš©
  - ì‹¤ìš©ì„±: ë°”ë¡œ ì ìš© ê°€ëŠ¥í•œ ì˜ˆì œ
  - ê°€ë…ì„±: ì´ˆë³´ìë„ ì´í•´í•  ìˆ˜ ìˆê²Œ

4 Stage:
  1. Planning: í¬ìŠ¤íŠ¸ êµ¬ì¡° ê¸°íš
  2. Reasoning: ê° ì„¹ì…˜ ë‚´ìš© ë¶„ì„
  3. Experimenting: ì´ˆì•ˆ ì‘ì„±
  4. Reflecting: í’ˆì§ˆ ê²€í†  ë° ê°œì„ 
```

**2. íŒŒì¼ ì‹œìŠ¤í…œ**
```
workspaces/blog-post-001/
â”œâ”€â”€ thinking/
â”‚   â””â”€â”€ tc-blog-001/
â”‚       â”œâ”€â”€ thinking_state.json
â”‚       â”œâ”€â”€ planning/
â”‚       â”‚   â””â”€â”€ thinking_record.json
â”‚       â”œâ”€â”€ reasoning/
â”‚       â”‚   â””â”€â”€ thinking_record.json
â”‚       â”œâ”€â”€ experimenting/
â”‚       â”‚   â””â”€â”€ thinking_record.json
â”‚       â””â”€â”€ reflecting/
â”‚           â””â”€â”€ thinking_record.json
â”œâ”€â”€ outputs/
â”‚   â””â”€â”€ blog_post.md
â”œâ”€â”€ meta/
â”‚   â”œâ”€â”€ goal.json
â”‚   â””â”€â”€ constraints.json
â””â”€â”€ checkpoints/
    â””â”€â”€ blog-post-001.json
```

**3. ì—ì´ì „íŠ¸ êµ¬í˜„**

ê¸°ë³¸ êµ¬ì¡°:
```python
class BlogPostAgent:
    """ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ìƒì„± ì—ì´ì „íŠ¸"""
    
    def __init__(self, task_id: str, topic: str):
        self.task_id = task_id
        self.topic = topic
        
        # í•„ìˆ˜ ì»´í¬ë„ŒíŠ¸ ì´ˆê¸°í™”
        self.file_manager = FileManager(f'./workspaces/{task_id}')
        self.state_machine = AgentStateMachine([...])
        self.logger = AgentLogger(task_id)
        self.checkpoint_manager = CheckpointManager('./', task_id)
    
    async def run(self, resume=True):
        """ì—ì´ì „íŠ¸ ì‹¤í–‰"""
        # TODO: êµ¬í˜„
        pass
    
    async def planning(self, context):
        """Planning Stage"""
        # TODO: êµ¬í˜„
        pass
    
    # ... ë‚˜ë¨¸ì§€ Stageë“¤
```

**êµ¬í˜„í•´ì•¼ í•  ê²ƒë“¤**:
- [ ] `BlogPostAgent` í´ë˜ìŠ¤
- [ ] 4ê°œ Stage ë©”ì„œë“œ (planning, reasoning, experimenting, reflecting)
- [ ] ìƒíƒœ ë¨¸ì‹  í†µí•©
- [ ] íŒŒì¼ ìë™ ì €ì¥
- [ ] ì²´í¬í¬ì¸íŠ¸ ë° ì¬ê°œ
- [ ] ë¡œê¹…

### ì„ íƒ ê¸°ëŠ¥

**Human-in-the-Loop** (ì„ íƒ):
```python
# Experimenting Stage ì™„ë£Œ í›„ ìŠ¹ì¸ ë°›ê¸°
if self.approval_gate:
    response = await self.approval_gate.require_approval(
        approval_id=f"{self.task_id}-draft",
        context={'draft': draft},
        explanation="ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ì´ˆì•ˆì„ ê²€í† í•´ì£¼ì„¸ìš”."
    )
    
    if not response.is_approved:
        # í”¼ë“œë°± ë°˜ì˜í•˜ì—¬ ì¬ì‘ì„±
        draft = await self.revise_draft(draft, response.feedback)
```

### ì˜ˆìƒ ì†Œìš” ì‹œê°„
- **ì„¤ê³„**: 30ë¶„
- **êµ¬í˜„**: 2-3ì‹œê°„
- **í…ŒìŠ¤íŠ¸**: 30ë¶„
- **ì´**: 3-4ì‹œê°„

### ì²´í¬ë¦¬ìŠ¤íŠ¸

**ì„¤ê³„ ë‹¨ê³„**:
- [ ] ì‚¬ê³  í´ëŸ¬ìŠ¤í„° ì„¤ê³„ ì™„ë£Œ
- [ ] íŒŒì¼ êµ¬ì¡° ì •ì˜
- [ ] Stageë³„ ì…ì¶œë ¥ ì •ì˜

**êµ¬í˜„ ë‹¨ê³„**:
- [ ] BaseAgent ë˜ëŠ” í…œí”Œë¦¿ ë³µì‚¬
- [ ] 4ê°œ Stage êµ¬í˜„
- [ ] ìƒíƒœ ë¨¸ì‹  í†µí•©
- [ ] FileManagerë¡œ íŒŒì¼ ì €ì¥
- [ ] CheckpointManagerë¡œ ì²´í¬í¬ì¸íŠ¸

**í…ŒìŠ¤íŠ¸ ë‹¨ê³„**:
- [ ] ì •ìƒ ì‹¤í–‰ (ëê¹Œì§€ ì™„ë£Œ)
- [ ] ì¤‘ê°„ ì‹¤íŒ¨ â†’ ì¬ê°œ í…ŒìŠ¤íŠ¸
- [ ] ì¶œë ¥ íŒŒì¼ í™•ì¸ (blog_post.md)
- [ ] thinking_state.json ì—…ë°ì´íŠ¸ í™•ì¸

### ì„±ê³µ ê¸°ì¤€
```yaml
ê¸°ëŠ¥:
  âœ“ ì£¼ì œë¥¼ ì…ë ¥í•˜ë©´ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ìƒì„±
  âœ“ 4 Stage ëª¨ë‘ ì •ìƒ ì‹¤í–‰
  âœ“ ì¤‘ê°„ ì‹¤íŒ¨ ì‹œ ì¬ê°œ ê°€ëŠ¥
  âœ“ ëª¨ë“  íŒŒì¼ì´ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ì— ì €ì¥

í’ˆì§ˆ:
  âœ“ ìƒì„±ëœ í¬ìŠ¤íŠ¸ê°€ ì½ì„ ë§Œí•œ ìˆ˜ì¤€
  âœ“ ê¸°ìˆ ì ìœ¼ë¡œ ì •í™•í•¨
  âœ“ ì‹¤í–‰ ê°€ëŠ¥í•œ ì˜ˆì œ í¬í•¨

ì‹œê°„:
  âœ“ ì „ì²´ ì‹¤í–‰ ì‹œê°„ 5ë¶„ ì´ë‚´
```

### íŒíŠ¸

**íŒíŠ¸ 1: í”„ë¡¬í”„íŠ¸ ì„¤ê³„**
```python
# Planning Stage í”„ë¡¬í”„íŠ¸ ì˜ˆì‹œ
def _create_planning_prompt(self):
    return f"""
ë‹¹ì‹ ì€ ê¸°ìˆ  ë¸”ë¡œê·¸ ì‘ê°€ì…ë‹ˆë‹¤.

ì£¼ì œ: {self.topic}

1ë‹¨ê³„: ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ êµ¬ì¡° ê¸°íš
ë‹¤ìŒì„ í¬í•¨í•˜ì„¸ìš”:
- ì œëª© (ë§¤ë ¥ì ì´ê³  SEO ì¹œí™”ì )
- ê°œìš” (3-5ì¤„)
- ì£¼ìš” ì„¹ì…˜ (5-7ê°œ)
- ê° ì„¹ì…˜ì˜ í•µì‹¬ ë‚´ìš©

ì‘ë‹µ í˜•ì‹: JSON
{{
  "title": "...",
  "overview": "...",
  "sections": [
    {{"name": "...", "content": "..."}},
    ...
  ]
}}
"""
```

**íŒíŠ¸ 2: ì¬ì‹œë„ ì¶”ê°€**
```python
@retry(RetryConfig(max_retries=3))
async def call_ai(self, prompt: str) -> str:
    # API í˜¸ì¶œ
    return await self._raw_api_call(prompt)
```

**íŒíŠ¸ 3: ì§„í–‰ ìƒí™© ì¶œë ¥**
```python
def update_state(self, stage: str):
    progress = self.state_machine.get_progress()
    print(f"[{progress['progress_percent']:.0f}%] {stage} ì§„í–‰ ì¤‘...")
```

### ì°¸ê³  ìë£Œ
- 16.2.1: ë‹¨ì¼ ì—ì´ì „íŠ¸ ì„¤ê³„
- 16.3.2: í•µì‹¬ êµ¬í˜„ íŒ¨í„´
- 16.4.1: ì„¤ê³„ ì²´í¬ë¦¬ìŠ¤íŠ¸

---

## ğŸŸ¡ ê³¼ì œ 2: ì£¼ê°„ ë¦¬í¬íŠ¸ ìƒì„± ì‹œìŠ¤í…œ (ì¤‘ê¸‰)

### ëª©í‘œ
ë³‘ë ¬ ì—ì´ì „íŠ¸ íŒ€ì„ êµ¬í˜„í•˜ì—¬ ì£¼ê°„ ì—…ë¬´ ë¦¬í¬íŠ¸ë¥¼ ìë™ ìƒì„±í•©ë‹ˆë‹¤.

### ì‹œë‚˜ë¦¬ì˜¤
```
ë§¤ì£¼ ê¸ˆìš”ì¼ë§ˆë‹¤ ì£¼ê°„ ë¦¬í¬íŠ¸ë¥¼ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤.
- GitHub í™œë™ ìˆ˜ì§‘
- Slack ë©”ì‹œì§€ ë¶„ì„
- ì£¼ìš” ì„±ê³¼ ìš”ì•½

ì´ ì‘ì—…ì„ 3ê°œ ì—ì´ì „íŠ¸ê°€ í˜‘ì—…í•˜ì—¬ ì²˜ë¦¬í•˜ë„ë¡ ë§Œë“¤ê³  ì‹¶ì–´ìš”.
```

### ìš”êµ¬ì‚¬í•­

**1. ì—ì´ì „íŠ¸ íŒ€ êµ¬ì„±**
```yaml
íŒ€ ì´ë¦„: WeeklyReportTeam
ëª©í‘œ: ì£¼ê°„ ì—…ë¬´ ë¦¬í¬íŠ¸ ìƒì„±

ì—ì´ì „íŠ¸ 3ê°œ:
  1. DataCollectionAgent
     - GitHub í™œë™ ìˆ˜ì§‘
     - Slack ë©”ì‹œì§€ ìˆ˜ì§‘
     - ìº˜ë¦°ë” ì´ë²¤íŠ¸ ìˆ˜ì§‘
  
  2. AnalysisAgent
     - í™œë™ íŒ¨í„´ ë¶„ì„
     - ì£¼ìš” ì„±ê³¼ ì¶”ì¶œ
     - ì‹œê°„ ì‚¬ìš© ë¶„ì„
  
  3. ReportAgent
     - ë¦¬í¬íŠ¸ ì‘ì„±
     - ì°¨íŠ¸ ìƒì„±
     - ìµœì¢… í¬ë§·íŒ…

ì˜ì¡´ì„±:
  - AnalysisAgentëŠ” DataCollectionAgent ì™„ë£Œ í•„ìš”
  - ReportAgentëŠ” AnalysisAgent ì™„ë£Œ í•„ìš”
```

**2. íŒŒì¼ ì‹œìŠ¤í…œ**
```
workspaces/weekly-report-001/
â”œâ”€â”€ thinking/
â”‚   â”œâ”€â”€ tc-data-collection/
â”‚   â”‚   â””â”€â”€ ... (4 Stage)
â”‚   â”œâ”€â”€ tc-analysis/
â”‚   â”‚   â””â”€â”€ ... (4 Stage)
â”‚   â””â”€â”€ tc-report/
â”‚       â””â”€â”€ ... (4 Stage)
â”œâ”€â”€ outputs/
â”‚   â”œâ”€â”€ data_collection.json
â”‚   â”œâ”€â”€ analysis.json
â”‚   â””â”€â”€ weekly_report.md
â”œâ”€â”€ meta/
â”‚   â”œâ”€â”€ goal.json
â”‚   â”œâ”€â”€ dependencies.json  # ìƒˆë¡œ ì¶”ê°€
â”‚   â””â”€â”€ team_structure.json
â””â”€â”€ checkpoints/
    â”œâ”€â”€ data-collection.json
    â”œâ”€â”€ analysis.json
    â””â”€â”€ report.json
```

**3. ì¡°ìœ¨ì êµ¬í˜„**

```python
class WeeklyReportTeam:
    """ì£¼ê°„ ë¦¬í¬íŠ¸ ìƒì„± íŒ€"""
    
    def __init__(self, task_id: str, week_number: int):
        self.task_id = task_id
        self.week_number = week_number
        
        # ì—ì´ì „íŠ¸ ìƒì„±
        self.agents = {
            'data_collection': DataCollectionAgent(task_id, week_number),
            'analysis': AnalysisAgent(task_id),
            'report': ReportAgent(task_id)
        }
        
        # ì˜ì¡´ì„± ì •ì˜
        self.dependencies = {
            'data_collection': [],
            'analysis': ['data_collection'],
            'report': ['analysis']
        }
    
    async def run(self):
        """íŒ€ ì‹¤í–‰"""
        # TODO: ì˜ì¡´ì„± ìˆœì„œëŒ€ë¡œ ì—ì´ì „íŠ¸ ì‹¤í–‰
        pass
    
    def _get_execution_order(self):
        """ì‹¤í–‰ ìˆœì„œ ê²°ì • (ìœ„ìƒ ì •ë ¬)"""
        # TODO: êµ¬í˜„
        pass
```

**êµ¬í˜„í•´ì•¼ í•  ê²ƒë“¤**:
- [ ] 3ê°œ ì—ì´ì „íŠ¸ í´ë˜ìŠ¤
- [ ] íŒ€ ì¡°ìœ¨ì (WeeklyReportTeam)
- [ ] ì˜ì¡´ì„± ê´€ë¦¬ (dependencies.json)
- [ ] ì‹¤í–‰ ìˆœì„œ ìë™ ê²°ì •
- [ ] íŒŒì¼ ê¸°ë°˜ í†µì‹ 
- [ ] ì „ì²´ ì§„í–‰ ìƒí™© ì¶”ì 

### ì˜ˆìƒ ì†Œìš” ì‹œê°„
- **ì„¤ê³„**: 1ì‹œê°„
- **êµ¬í˜„**: 4-5ì‹œê°„
- **í…ŒìŠ¤íŠ¸**: 1ì‹œê°„
- **ì´**: 6-7ì‹œê°„

### ì²´í¬ë¦¬ìŠ¤íŠ¸

**ì„¤ê³„ ë‹¨ê³„**:
- [ ] 3ê°œ ì—ì´ì „íŠ¸ ì—­í•  ì •ì˜
- [ ] ì˜ì¡´ì„± ë§µ ì‘ì„±
- [ ] ì—ì´ì „íŠ¸ ê°„ ë°ì´í„° ì „ë‹¬ ë°©ì‹ ì •ì˜

**êµ¬í˜„ ë‹¨ê³„**:
- [ ] 3ê°œ ì—ì´ì „íŠ¸ êµ¬í˜„
- [ ] íŒ€ ì¡°ìœ¨ì êµ¬í˜„
- [ ] ì˜ì¡´ì„± ìë™ í•´ê²°
- [ ] íŒŒì¼ ê¸°ë°˜ í†µì‹  êµ¬í˜„

**í…ŒìŠ¤íŠ¸ ë‹¨ê³„**:
- [ ] ìˆœì°¨ ì‹¤í–‰ í™•ì¸
- [ ] ì˜ì¡´ì„± ì˜¤ë¥˜ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸
- [ ] ì¤‘ê°„ ì—ì´ì „íŠ¸ ì‹¤íŒ¨ ì‹œë‚˜ë¦¬ì˜¤
- [ ] ìµœì¢… ë¦¬í¬íŠ¸ í’ˆì§ˆ í™•ì¸

### ì„±ê³µ ê¸°ì¤€
```yaml
ê¸°ëŠ¥:
  âœ“ 3ê°œ ì—ì´ì „íŠ¸ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì‹¤í–‰
  âœ“ ì˜ì¡´ì„±ì´ ìë™ìœ¼ë¡œ í•´ê²°ë¨
  âœ“ ì—ì´ì „íŠ¸ ê°„ ë°ì´í„° ì „ë‹¬ ì •ìƒ
  âœ“ ìµœì¢… ë¦¬í¬íŠ¸ ìƒì„± ì™„ë£Œ

í˜‘ì—…:
  âœ“ ê° ì—ì´ì „íŠ¸ê°€ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘
  âœ“ í•œ ì—ì´ì „íŠ¸ ì‹¤íŒ¨ ì‹œ ì „ì²´ ì¤‘ë‹¨
  âœ“ ì¬ì‹œì‘ ì‹œ ì™„ë£Œëœ ì—ì´ì „íŠ¸ ê±´ë„ˆë›°ê¸°

í’ˆì§ˆ:
  âœ“ ë¦¬í¬íŠ¸ê°€ ìœ ìš©í•œ ì •ë³´ í¬í•¨
  âœ“ ë°ì´í„° ìˆ˜ì§‘ì´ ì™„ì „í•¨
  âœ“ ë¶„ì„ì´ ì˜ë¯¸ ìˆìŒ
```

### íŒíŠ¸

**íŒíŠ¸ 1: ì˜ì¡´ì„± í•´ê²° (ìœ„ìƒ ì •ë ¬)**
```python
def _get_execution_order(self):
    """ìœ„ìƒ ì •ë ¬ë¡œ ì‹¤í–‰ ìˆœì„œ ê²°ì •"""
    visited = set()
    order = []
    
    def visit(agent_id):
        if agent_id in visited:
            return
        
        visited.add(agent_id)
        
        # ì˜ì¡´ì„± ë¨¼ì € ë°©ë¬¸
        for dep in self.dependencies[agent_id]:
            visit(dep)
        
        order.append(agent_id)
    
    for agent_id in self.agents.keys():
        visit(agent_id)
    
    return order
```

**íŒíŠ¸ 2: íŒŒì¼ ê¸°ë°˜ í†µì‹ **
```python
# Agent A: ë°ì´í„° ì €ì¥
self.file_manager.save_json('outputs/data_collection.json', result)

# Agent B: ë°ì´í„° ì½ê¸°
data = self.file_manager.load_json('outputs/data_collection.json')
```

**íŒíŠ¸ 3: íŒ€ ì§„í–‰ ìƒí™©**
```python
def get_team_progress(self):
    """íŒ€ ì „ì²´ ì§„í–‰ ìƒí™©"""
    completed = sum(
        1 for agent in self.agents.values()
        if agent.is_completed()
    )
    
    return {
        'completed_agents': completed,
        'total_agents': len(self.agents),
        'progress_percent': (completed / len(self.agents)) * 100
    }
```

### ì°¸ê³  ìë£Œ
- 16.2.2: ë³‘ë ¬ ì—ì´ì „íŠ¸ íŒ€ ì„¤ê³„
- 16.2.4: ì—ì´ì „íŠ¸ ê°„ í†µì‹  íŒ¨í„´
- 16.3.3: ì˜¤ë¥˜ ì²˜ë¦¬ ë° ë³µêµ¬

---

## ğŸ”´ ê³¼ì œ 3: ì œí’ˆ ê¸°íš ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ (ê³ ê¸‰)

### ëª©í‘œ
ê³„ì¸µì  ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œì„ êµ¬í˜„í•˜ì—¬ ì‹ ì œí’ˆ ê¸°íšì„ ìë™í™”í•©ë‹ˆë‹¤.

### ì‹œë‚˜ë¦¬ì˜¤
```
ìƒˆë¡œìš´ SaaS ì œí’ˆì„ ê¸°íší•˜ê³  ìˆìŠµë‹ˆë‹¤.
ì‹œì¥ ì¡°ì‚¬ë¶€í„° í¬ì§€ì…”ë‹, ê°€ê²© ì „ëµ, Go-to-Marketê¹Œì§€
ì „ì²´ ê¸°íš ê³¼ì •ì„ ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œì´ ë‹´ë‹¹í•˜ë„ë¡ ë§Œë“¤ê³  ì‹¶ì–´ìš”.

ì…ë ¥: "ê°œë°œìë¥¼ ìœ„í•œ AI ì½”ë“œ ë¦¬ë·° ë„êµ¬"
ì¶œë ¥: ì™„ì „í•œ ì œí’ˆ ê¸°íšì„œ
```

### ìš”êµ¬ì‚¬í•­

**1. ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ êµ¬ì„±**
```yaml
ì‹œìŠ¤í…œ ì´ë¦„: ProductPlanningSystem
ëª©í‘œ: ì‹ ì œí’ˆ ì™„ì „ ê¸°íš

ë©”íƒ€ ì¡°ìœ¨ì: MetaCoordinator
  ì—­í• :
    - ì „ì²´ ì¼ê´€ì„± ê²€ì¦
    - ê° ì—ì´ì „íŠ¸ ê²°ê³¼ ìŠ¹ì¸
    - ìµœì¢… í†µí•©

ì‹¤í–‰ ì—ì´ì „íŠ¸ 4ê°œ:
  1. MarketResearchAgent
     - ì‹œì¥ ê·œëª¨ ë¶„ì„
     - ê²½ìŸì‚¬ ë¶„ì„
     - ê³ ê° ë‹ˆì¦ˆ íŒŒì•…
  
  2. PositioningAgent
     - íƒ€ê²Ÿ ê³ ê° ì •ì˜
     - ê°€ì¹˜ ì œì•ˆ (Value Proposition)
     - ì°¨ë³„í™” í¬ì¸íŠ¸
     (ì˜ì¡´: MarketResearchAgent)
  
  3. PricingAgent
     - ê°€ê²© ì „ëµ
     - ìˆ˜ìµ ëª¨ë¸
     - ê²½ìŸë ¥ ë¶„ì„
     (ì˜ì¡´: MarketResearchAgent, PositioningAgent)
  
  4. GTMAgent (Go-to-Market)
     - ëŸ°ì¹­ ì „ëµ
     - ë§ˆì¼€íŒ… ì±„ë„
     - ì‹¤í–‰ ê³„íš
     (ì˜ì¡´: ëª¨ë“  ì—ì´ì „íŠ¸)
```

**2. ê²€ì¦ ë£¨í”„**
```
ê° ì—ì´ì „íŠ¸ ì™„ë£Œ í›„:
  1. MetaCoordinatorê°€ ê²°ê³¼ ê²€ì¦
  2. í•µì‹¬ ê°€ì¹˜ ë¶€í•©ì„± í™•ì¸
  3. ì´ì „ ê²°ê³¼ì™€ ì¼ê´€ì„± í™•ì¸
  4. í†µê³¼í•˜ë©´ ë‹¤ìŒ ì—ì´ì „íŠ¸
  5. ì‹¤íŒ¨í•˜ë©´ í”¼ë“œë°±ê³¼ í•¨ê»˜ ì¬ì‹¤í–‰
```

**3. íŒŒì¼ ì‹œìŠ¤í…œ**
```
workspaces/product-planning-001/
â”œâ”€â”€ thinking/
â”‚   â”œâ”€â”€ meta/
â”‚   â”‚   â””â”€â”€ coordination_log.json
â”‚   â”œâ”€â”€ tc-market-research/
â”‚   â”œâ”€â”€ tc-positioning/
â”‚   â”œâ”€â”€ tc-pricing/
â”‚   â””â”€â”€ tc-gtm/
â”œâ”€â”€ outputs/
â”‚   â”œâ”€â”€ market_research.json
â”‚   â”œâ”€â”€ positioning.json
â”‚   â”œâ”€â”€ pricing.json
â”‚   â”œâ”€â”€ gtm_strategy.json
â”‚   â””â”€â”€ product_plan.md  # ìµœì¢… í†µí•© ê¸°íšì„œ
â”œâ”€â”€ meta/
â”‚   â”œâ”€â”€ goal.json
â”‚   â”œâ”€â”€ core_values.json
â”‚   â”œâ”€â”€ dependencies.json
â”‚   â””â”€â”€ validation_history.json
â””â”€â”€ checkpoints/
    â””â”€â”€ ... (ê° ì—ì´ì „íŠ¸ë³„)
```

**4. ë©”íƒ€ ì¡°ìœ¨ì êµ¬í˜„**

```python
class MetaCoordinator:
    """ë©”íƒ€ ì¡°ìœ¨ì"""
    
    def __init__(self, task_id: str, product_idea: str, core_values: list):
        self.task_id = task_id
        self.product_idea = product_idea
        self.core_values = core_values
        
        # ì‹¤í–‰ ì—ì´ì „íŠ¸ë“¤
        self.agents = {
            'market_research': MarketResearchAgent(...),
            'positioning': PositioningAgent(...),
            'pricing': PricingAgent(...),
            'gtm': GTMAgent(...)
        }
        
        # ê²€ì¦ ì´ë ¥
        self.validation_history = []
    
    async def run(self):
        """ì‹œìŠ¤í…œ ì‹¤í–‰"""
        # TODO: êµ¬í˜„
        pass
    
    async def _validate_result(self, agent_id: str, result: dict):
        """ì—ì´ì „íŠ¸ ê²°ê³¼ ê²€ì¦"""
        # TODO: í•µì‹¬ ê°€ì¹˜ ë¶€í•©ì„±, ì¼ê´€ì„± ê²€ì¦
        pass
    
    async def _integrate_all_results(self):
        """ëª¨ë“  ê²°ê³¼ í†µí•©"""
        # TODO: ìµœì¢… ê¸°íšì„œ ìƒì„±
        pass
```

**êµ¬í˜„í•´ì•¼ í•  ê²ƒë“¤**:
- [ ] MetaCoordinator í´ë˜ìŠ¤
- [ ] 4ê°œ ì‹¤í–‰ ì—ì´ì „íŠ¸
- [ ] ê²€ì¦ ë¡œì§ (í•µì‹¬ ê°€ì¹˜ ë¶€í•©ì„±, ì¼ê´€ì„±)
- [ ] ì¬ì‹¤í–‰ ë©”ì»¤ë‹ˆì¦˜ (í”¼ë“œë°± ê¸°ë°˜)
- [ ] ìµœì¢… í†µí•© ë¡œì§
- [ ] ì „ì²´ ì¡°ìœ¨ ë¡œê·¸

### ì˜ˆìƒ ì†Œìš” ì‹œê°„
- **ì„¤ê³„**: 2ì‹œê°„
- **êµ¬í˜„**: 8-10ì‹œê°„
- **í…ŒìŠ¤íŠ¸**: 2ì‹œê°„
- **ì´**: 12-14ì‹œê°„

### ì²´í¬ë¦¬ìŠ¤íŠ¸

**ì„¤ê³„ ë‹¨ê³„**:
- [ ] ë©”íƒ€ ì¡°ìœ¨ì ì—­í•  ì •ì˜
- [ ] 4ê°œ ì—ì´ì „íŠ¸ ì—­í•  ë° ì˜ì¡´ì„±
- [ ] ê²€ì¦ ê¸°ì¤€ ì •ì˜
- [ ] ì¬ì‹¤í–‰ ì‹œë‚˜ë¦¬ì˜¤ ì„¤ê³„

**êµ¬í˜„ ë‹¨ê³„**:
- [ ] MetaCoordinator êµ¬í˜„
- [ ] 4ê°œ ì—ì´ì „íŠ¸ êµ¬í˜„
- [ ] ê²€ì¦ ë¡œì§ êµ¬í˜„
- [ ] ì¬ì‹¤í–‰ ë©”ì»¤ë‹ˆì¦˜
- [ ] ìµœì¢… í†µí•© ë¡œì§

**í…ŒìŠ¤íŠ¸ ë‹¨ê³„**:
- [ ] ì „ì²´ ì‹œìŠ¤í…œ ì •ìƒ ì‹¤í–‰
- [ ] ê²€ì¦ ì‹¤íŒ¨ â†’ ì¬ì‹¤í–‰ í…ŒìŠ¤íŠ¸
- [ ] ìµœì¢… ê¸°íšì„œ í’ˆì§ˆ í™•ì¸
- [ ] ì¼ê´€ì„± ê²€ì¦

### ì„±ê³µ ê¸°ì¤€
```yaml
ê¸°ëŠ¥:
  âœ“ 4ê°œ ì—ì´ì „íŠ¸ê°€ ìˆœì°¨ ì‹¤í–‰
  âœ“ ê° ë‹¨ê³„ë§ˆë‹¤ ë©”íƒ€ ê²€ì¦
  âœ“ ê²€ì¦ ì‹¤íŒ¨ ì‹œ ì¬ì‹¤í–‰
  âœ“ ìµœì¢… í†µí•© ê¸°íšì„œ ìƒì„±

í’ˆì§ˆ:
  âœ“ ëª¨ë“  ê²°ê³¼ê°€ í•µì‹¬ ê°€ì¹˜ì™€ ì¼ì¹˜
  âœ“ ì—ì´ì „íŠ¸ ê°„ ì¼ê´€ì„± ìœ ì§€
  âœ“ ì‹¤í–‰ ê°€ëŠ¥í•œ ê¸°íšì„œ

ê³ ê¸‰ ê¸°ëŠ¥:
  âœ“ Human-in-the-Loop (ì„ íƒ)
  âœ“ ë¹„ìš© ì¶”ì 
  âœ“ ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
```

### íŒíŠ¸

**íŒíŠ¸ 1: ê²€ì¦ ë¡œì§**
```python
async def _validate_result(self, agent_id: str, result: dict):
    """ê²°ê³¼ ê²€ì¦"""
    
    prompt = f"""
ë‹¹ì‹ ì€ ì œí’ˆ ê¸°íš ê²€ì¦ ì „ë¬¸ê°€ì…ë‹ˆë‹¤.

í•µì‹¬ ê°€ì¹˜: {self.core_values}
ì—ì´ì „íŠ¸: {agent_id}
ê²°ê³¼: {json.dumps(result, ensure_ascii=False)}

ê²€ì¦ í•­ëª©:
1. í•µì‹¬ ê°€ì¹˜ ë¶€í•©ì„±: ê²°ê³¼ê°€ í•µì‹¬ ê°€ì¹˜ì™€ ì¼ì¹˜í•˜ëŠ”ê°€?
2. ì™„ì „ì„±: í•„ìš”í•œ ëª¨ë“  ì •ë³´ê°€ í¬í•¨ë˜ì—ˆëŠ”ê°€?
3. ì‹¤í–‰ ê°€ëŠ¥ì„±: ì‹¤ì œë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ ê³„íšì¸ê°€?

ì‘ë‹µ í˜•ì‹: JSON
{{
  "passed": true/false,
  "score": 0-10,
  "issues": ["ë¬¸ì œì ë“¤"],
  "feedback": "ê°œì„  ë°©í–¥"
}}
"""
    
    validation = await self.call_ai(prompt)
    return json.loads(validation)
```

**íŒíŠ¸ 2: ì¬ì‹¤í–‰ with í”¼ë“œë°±**
```python
async def _run_agent_with_validation(self, agent_id: str, max_attempts=3):
    """ê²€ì¦ í¬í•¨ ì—ì´ì „íŠ¸ ì‹¤í–‰"""
    
    for attempt in range(max_attempts):
        # ì‹¤í–‰
        result = await self.agents[agent_id].run(context)
        
        # ê²€ì¦
        validation = await self._validate_result(agent_id, result)
        
        if validation['passed']:
            return result
        
        # í”¼ë“œë°± ì¶”ê°€í•˜ì—¬ ì¬ì‹¤í–‰
        context['feedback'] = validation['feedback']
        print(f"âš ï¸  {agent_id} ì¬ì‹¤í–‰ ({attempt + 1}/{max_attempts})")
    
    raise ValidationFailed(f"{agent_id} ê²€ì¦ ì‹¤íŒ¨")
```

**íŒíŠ¸ 3: ìµœì¢… í†µí•©**
```python
async def _integrate_all_results(self):
    """ëª¨ë“  ê²°ê³¼ë¥¼ í•˜ë‚˜ì˜ ê¸°íšì„œë¡œ í†µí•©"""
    
    prompt = f"""
ë‹¹ì‹ ì€ ì œí’ˆ ê¸°íš í†µí•© ì „ë¬¸ê°€ì…ë‹ˆë‹¤.

4ê°œ ì—ì´ì „íŠ¸ ê²°ê³¼:
1. ì‹œì¥ ì¡°ì‚¬: {self.results['market_research']}
2. í¬ì§€ì…”ë‹: {self.results['positioning']}
3. ê°€ê²© ì „ëµ: {self.results['pricing']}
4. Go-to-Market: {self.results['gtm']}

ì´ ê²°ê³¼ë“¤ì„ í†µí•©í•˜ì—¬ ì™„ì „í•œ ì œí’ˆ ê¸°íšì„œë¥¼ ì‘ì„±í•˜ì„¸ìš”.

ê¸°íšì„œ êµ¬ì¡°:
1. Executive Summary
2. Market Analysis
3. Product Positioning
4. Pricing Strategy
5. Go-to-Market Plan
6. Success Metrics
7. Risks and Mitigation
"""
    
    integrated_plan = await self.call_ai(prompt)
    return integrated_plan
```

### ì°¸ê³  ìë£Œ
- 16.2.3: ê³„ì¸µì  ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ
- 16.3.3: ì˜¤ë¥˜ ì²˜ë¦¬ ë° ë³µêµ¬
- 16.4.1: ì„¤ê³„ ì²´í¬ë¦¬ìŠ¤íŠ¸

---

## ì œì¶œ ë° í”¼ë“œë°±

### ì œì¶œ ë°©ë²•
1. GitHub ì €ì¥ì†Œì— ì½”ë“œ í‘¸ì‹œ
2. `README.md`ì— ì‹¤í–‰ ë°©ë²• ì‘ì„±
3. ê° ê³¼ì œë³„ë¡œ `outputs/` ë””ë ‰í† ë¦¬ì˜ ê²°ê³¼ í¬í•¨

### ìê°€ í‰ê°€
```yaml
ê³¼ì œ 1 (ë‹¨ì¼ ì—ì´ì „íŠ¸):
  â–¡ 4 Stage ëª¨ë‘ êµ¬í˜„
  â–¡ íŒŒì¼ ì‹œìŠ¤í…œ ì˜¬ë°”ë¥´ê²Œ êµ¬ì„±
  â–¡ ì²´í¬í¬ì¸íŠ¸ ë° ì¬ê°œ ë™ì‘
  â–¡ ìƒì„±ëœ í¬ìŠ¤íŠ¸ í’ˆì§ˆ ë§Œì¡±

ê³¼ì œ 2 (ë³‘ë ¬ ì—ì´ì „íŠ¸):
  â–¡ 3ê°œ ì—ì´ì „íŠ¸ êµ¬í˜„
  â–¡ ì˜ì¡´ì„± ìë™ í•´ê²°
  â–¡ ì—ì´ì „íŠ¸ ê°„ í†µì‹  ì •ìƒ
  â–¡ ìµœì¢… ë¦¬í¬íŠ¸ ìœ ìš©ì„±

ê³¼ì œ 3 (ê³„ì¸µì  ì—ì´ì „íŠ¸):
  â–¡ ë©”íƒ€ ì¡°ìœ¨ì êµ¬í˜„
  â–¡ 4ê°œ ì‹¤í–‰ ì—ì´ì „íŠ¸ êµ¬í˜„
  â–¡ ê²€ì¦ ë£¨í”„ ë™ì‘
  â–¡ ìµœì¢… ê¸°íšì„œ ì™„ì„±ë„
```

### ë‹¤ìŒ ë‹¨ê³„

**ê³¼ì œë¥¼ ì™„ë£Œí–ˆë‹¤ë©´**:
1. âœ… Part 4 ì™„ì „ ì •ë³µ!
2. ğŸ¯ Part 5 ì¤€ë¹„ (ì‹œìŠ¤í…œ í™•ì¥ê³¼ ìš´ì˜)
3. ğŸš€ ì‹¤ì „ í”„ë¡œì íŠ¸ì— ì ìš©

**ë” í•™ìŠµí•˜ê³  ì‹¶ë‹¤ë©´**:
- LangChain/AutoGen í”„ë ˆì„ì›Œí¬ í•™ìŠµ
- í”„ë¡œë•ì…˜ ë°°í¬ í•™ìŠµ
- ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹… ì‹¬í™”

**ì»¤ë®¤ë‹ˆí‹°**:
- GitHubì— í”„ë¡œì íŠ¸ ê³µìœ 
- Discord/Slack ì»¤ë®¤ë‹ˆí‹° ì°¸ì—¬
- ë‹¤ë¥¸ í•™ìŠµìì™€ ê²½í—˜ ê³µìœ 

---

ì¶•í•˜í•©ë‹ˆë‹¤! Part 4 ì‹¤ìŠµì„ ëª¨ë‘ ì™„ë£Œí–ˆì–´ìš”! ğŸ‰
