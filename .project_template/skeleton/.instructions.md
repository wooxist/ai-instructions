# AI 협업 지침

이 파일은 AI가 이 프로젝트에서 작업할 때 반드시 따라야 하는 규칙입니다.

---

## 🎯 세션 관리 시스템 (최우선)

**⚠️ 중요**: 세션과 TODO 업데이트는 프로젝트의 생명줄입니다. 작업 전/후 문서화 없이는 어떤 작업도 시작하지 마세요.

### 작업 전 필수 체크리스트 (Pre-work)

**모든 작업 시작 전 반드시 수행**:

1. ✅ **세션 파일 생성/업데이트**
   - `.session/YYYY-MM-DD.md` 생성 또는 열기
   - "오늘의 목표" 섹션 작성
   - 이전 세션의 "다음에 할 것" 확인

2. ✅ **TODO.md 확인**
   - 우선순위 확인
   - 오늘 할 작업 선정
   - 예상 소요 시간 확인

3. ✅ **작업 계획 수립**
   - 세션 파일에 작업 계획 기록
   - 체크박스 리스트 작성
   - 점진적 실행 계획 수립 (15-30분 단위)

**이 체크리스트 없이 작업을 시작하면 안 됩니다!**

### 작업 후 필수 체크리스트 (Post-work)

**모든 작업 완료 후 반드시 수행**:

1. ✅ **세션 파일 완성**
   - 모든 체크박스 상태 업데이트
   - "이 세션에서 한 것" 섹션 완성
   - "다음 세션에서 할 것" 작성
   - 중요 메모/결정사항 기록
   - 발견한 문제/아이디어 정리
   - 회고 작성 (배운 점, 개선점)

2. ✅ **TODO.md 동기화**
   - 완료된 작업 체크박스 업데이트
   - "최근 완료된 작업" 섹션에 추가
   - "다음 세션 시작할 작업" 업데이트
   - 새로 발견된 작업 추가
   - 마지막 업데이트 날짜 변경

3. ✅ **ROADMAP 동기화 (필요시)**
   - Phase 진행률 업데이트
   - 주요 마일스톤 달성 시 기록

**이 체크리스트 없이 작업을 종료하면 안 됩니다!**

### 왜 이것이 중요한가?

1. **컨텍스트 유지**: 다음 세션에서 어디서부터 시작할지 명확
2. **진행 상황 추적**: 무엇을 했고 무엇이 남았는지 파악
3. **의사결정 기록**: 왜 이렇게 했는지 나중에 이해 가능
4. **문제 추적**: 발견한 이슈를 놓치지 않음
5. **협업 가능**: 다른 사람(또는 미래의 AI)이 이어서 작업 가능

### 세션 시작 패턴 감지

다음 패턴 시 자동으로 세션 시작:
- "세션 시작", "이어서", "계속", "continue"
- "오늘 할 일", "TODO 확인"
- 작업 지시가 포함된 첫 메시지

### 세션 시작 프로세스

1. `.session/` 에서 가장 최근 파일 읽기
2. 오늘 날짜로 새 세션 파일 생성: `.session/YYYY-MM-DD.md`
3. 이전 세션의 "다음에 할 것" 확인
4. `.work/TODO.md` 에서 우선순위 확인
5. 사용자에게 오늘 작업 제안

### 세션 업데이트 (3-레벨)

**레벨 1: 자동 저장**
- 체크박스 완료 시 (`[ ]` → `[x]`)
- 중요 파일 생성 시
- 10분마다 (새 작업 있을 때)

**레벨 2: 명시적 저장**
- "저장", "체크포인트", "기록해줘"

**레벨 3: 세션 종료**
- "오늘은 여기까지", "종료", "끝"
- 종료 시각 기록
- "다음 세션에서 할 것" 정리

---

## 📋 작업 관리 시스템

### ROADMAP → TODO → Session 흐름

```
ROADMAP (전략) - root/ROADMAP.md
   ↓ Phase를 세부 작업으로 분해
TODO (실행) - .work/TODO.md
   ↑ 즉흥 작업도 추가
   ↓ 실제 작업
Session (기록) - .session/YYYY-MM-DD.md
```

### 작업 추가 규칙

**1. ROADMAP에서 분해**
```
ROADMAP: Phase X.X - [작업명]
    ↓
TODO: [ ] 세부 작업 1
      [ ] 세부 작업 2
      [ ] 세부 작업 3
```

**2. 즉흥 작업 발견**
```
세션 중 발견 → 복잡도 판단 → TODO 추가

간단 (< 30분): TODO에 추가 → 즉시 처리
중간 (30분~2h): TODO에 추가 → 계획 후 처리
복잡 (> 2h): task 폴더 생성 → 상세 계획
```

### 🔄 점진적 실행 원칙 (Iterative Execution)

**작업 분해 규칙**
```
큰 작업 (> 2시간)
    ↓ 분해
중간 작업 (30분~1시간) × N개
    ↓ 각각 분해
작은 단위 (15~30분) × M개
```

**단계별 실행 가이드**
1. **한 번에 1-3개 작업만**: 동시에 너무 많은 작업 진행 금지
2. **15-30분 단위로 분해**: 각 작업을 측정/검증 가능한 크기로
3. **중간 체크포인트**: 30분마다 진행 상황 기록
4. **빠른 피드백**: 작은 단위 완료 시마다 결과 확인

**점진적 개선 프로세스**
```
v0.1 (초안) → 테스트 → 피드백
    ↓
v0.2 (개선) → 테스트 → 피드백
    ↓
v1.0 (완성)
```

**예시: "index.md 전면 개편" 작업 분해**
```
❌ 잘못된 접근:
- [ ] index.md 전면 개편 (3시간)

✅ 올바른 접근:
- [ ] 현재 구조 분석 (15분)
- [ ] 개선안 작성 (30분)
- [ ] Part 1-2 수정 (30분)
- [ ] Part 3-4 수정 (30분)
- [ ] Part 5 및 부록 수정 (30분)
- [ ] 전체 일관성 검토 (15분)
```

### 복잡한 작업 관리

2시간 이상 걸리는 작업은 별도 폴더:
```
.work/tasks/task-XXX-작업명/
├── context.md       # 배경, 목표
├── plan.md         # 상세 계획
└── artifacts/      # 산출물
```

---

## 🔄 문서 동기화 규칙

### 작업 완료 시
- [ ] 세션 파일 체크박스 완료
- [ ] TODO.md "완료된 작업"에 이동 + 세션 링크
- [ ] ROADMAP.md 진행률 업데이트 (Phase 단위)

### 새 작업 추가 시
- [ ] TODO.md에 추가
- [ ] ROADMAP 연계 or 즉흥 섹션 구분
- [ ] 예상 소요 시간 기록

---

## 📁 파일 구조

```
project/
├── ROADMAP.md         # 전체 로드맵 (root)
├── .session/          # 일기
│   └── YYYY-MM-DD.md
├── .work/            # 작업 관리
│   ├── TODO.md
│   └── tasks/
├── .instructions.md  # 이 파일
└── [프로젝트 파일들]
```

---

## 🎯 프로젝트별 규칙

> 이 섹션은 프로젝트마다 커스터마이징하세요

### 이 프로젝트 특성
- **타입**: [웹 개발 / 데이터 분석 / 글쓰기 / 기타]
- **주요 기술**: [기술 스택]
- **목표**: [프로젝트 목표]

### 작업 시 주의사항
- [프로젝트별 특별한 규칙 1]
- [프로젝트별 특별한 규칙 2]
- [프로젝트별 특별한 규칙 3]

---

## 🚨 주의사항

### ⛔ 절대 하지 말 것 (프로젝트 파괴 방지)

**문서화 관련 (최중요)**:
- ❌ 세션 파일 생성/업데이트 없이 작업 시작
- ❌ TODO.md 확인 없이 작업 시작
- ❌ 작업 완료 후 세션 파일 미완성
- ❌ 작업 완료 후 TODO.md 미동기화
- ❌ "다음 세션에서 할 것" 작성 생략

**작업 관련**:
- ❌ 중요한 결정을 세션에 기록 안 함
- ❌ 큰 작업을 분해하지 않고 한 번에 진행

### ✅ 항상 할 것 (프로젝트 성공 보장)

**작업 시작 시 (필수)**:
- ✅ 세션 파일 생성 또는 열기
- ✅ 이전 세션의 "다음에 할 것" 확인
- ✅ TODO.md 우선순위 확인
- ✅ 오늘 작업 계획 세션 파일에 기록

**작업 중 (규칙적)**:
- ✅ 중요 결정은 즉시 세션에 기록
- ✅ 작업 완료 시 체크박스 업데이트
- ✅ 큰 작업은 15-30분 단위로 분해
- ✅ 한 번에 1-3개 작업만 진행
- ✅ 각 단계 완료 후 검증

**작업 종료 시 (필수)**:
- ✅ 세션 파일 완성 (전체 섹션 작성)
- ✅ TODO.md 동기화 (완료 작업 체크, 날짜 업데이트)
- ✅ "다음 세션에서 할 것" 작성
- ✅ 회고 및 배운 점 기록

---

## 📝 버전

- v2.2.0 (2025-10-07): 작업 전/후 필수 체크리스트 추가, 문서화 중요성 강화
- v2.1.0 (2025-01-20): 점진적 실행 원칙 추가
- v2.0.0 (2025-10-06): skeleton 구조 적용
- v1.0.0 (2025-10-06): 초기 템플릿 생성
