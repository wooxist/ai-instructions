# 13장. 우리만의 언어 만들기: AI와 소통하는 가장 쉬운 방법

## 13.1 AI와 소통하는 우리만의 언어, DSL

**도메인 특화 언어(DSL, Domain-Specific Language)[^1]**는 말 그대로 '특정 분야(Domain)의 문제를 해결하는 데 특화된 컴퓨터 언어'입니다.

비유하자면, 파이썬이나 자바 같은 '범용 언어'는 어떤 요리든 만들 수 있는 전문가용 주방과 같습니다. 반면, DSL은 **'캡슐 커피 머신'**과 같습니다. 커피를 내린다는 특정 목적에 완벽하게 맞춰져 있어, 누구나 캡슐을 고르고 버튼만 누르면 쉽고 일관되게 맛있는 커피를 만들 수 있습니다.

우리가 7장에서 `workflow.yaml` 파일로 여행 계획을 짰던 것, 그것이 바로 'AI 에이전트들의 협업 방식을 정의'하는 데 특화된 우리만의 DSL입니다.

## 13.2 왜 우리만의 언어가 필요할까?

그렇다면 왜 복잡하게 우리만의 언어를 만들어야 할까요? 그냥 파이썬 같은 범용 언어로 모든 것을 처리하면 안 될까요? '캡슐 커피 머신'의 장점을 생각해보면 그 이유를 쉽게 알 수 있습니다.

### 1. 복잡한 기술을 몰라도 쓸 수 있나요? (복잡성 추상화[^2])
네, 그렇습니다. 캡슐 커피 머신을 쓸 때 우리가 원두의 분쇄도나 물의 온도를 신경 쓰지 않는 것처럼, 잘 만든 DSL은 복잡한 내부 구현을 감춰줍니다. 사용자는 그저 "이 단계들을 동시에 실행해줘"라는 의도만 `type: parallel`로 선언하면 됩니다. 멀티스레딩이나 비동기 처리 같은 어려운 기술은 DSL을 해석하는 '워크플로우 엔진'이 알아서 처리해줍니다.

### 2. 개발자가 아니어도 이해할 수 있나요? (인간과 기계의 공용어)
네, 그렇습니다. `workflow.yaml` 파일은 개발자가 아닌 동료들과 소통하는 훌륭한 '설계도'가 됩니다.
- **기획자:** 파일을 열어보고 "아, 고객 리뷰를 분석한 결과가 나와야 마케팅팀의 작업이 시작되는구나"라고 프로젝트의 전체 흐름을 쉽게 이해합니다.
- **개발자:** 기획자가 작성한 `workflow.yaml`을 보고, 각 단계에 필요한 에이전트와 도구를 개발하는 명확한 작업 지시서로 활용합니다.
- **AI (워크플로우 엔진):** 이 파일을 읽고, 각 단계가 유효한지, 필요한 입력값은 모두 있는지 등을 확인하고 자동화된 프로세스를 정확하게 실행합니다.

### 3. 내 의도를 명확하게 표현할 수 있나요? (의도의 명확한 표현)
네, 그렇습니다. 어떤 커피 캡슐을 선택하는지가 '어떤 커피를 마시고 싶다'는 명확한 의도가 되듯, DSL은 우리의 의도를 코드보다 훨씬 명확하게 표현합니다.
- `type: human_in_the_loop`: "이 단계는 중요하니, 반드시 사람의 승인이 필요하다"
- `retry: 3`: "이 작업은 가끔 실패할 수 있으니, 3번까지는 다시 시도해봐도 괜찮다"

### 4. 실수해도 안전한가요? (안전성과 제약)
네, 비교적 안전합니다. 캡슐 커피 머신에서 실수로 버튼을 잘못 눌러도 기계가 폭발할 위험은 없는 것처럼, DSL은 우리가 할 수 있는 행동의 범위를 '제약'함으로써 시스템의 안정성을 높입니다. `workflow.yaml` DSL에서는 `agent`, `inputs` 등 미리 약속된 키워드만 사용할 수 있습니다. 만약 사용자가 `delete_all_files: true`와 같은 임의의 위험한 명령어를 추가하더라도, 워크플로우 엔진은 이를 알 수 없는 명령어로 인지하고 실행을 거부하여 사용자를 실수로부터 보호합니다.

---
[^1]: **DSL (도메인 특화 언어, Domain-Specific Language):** 특정 문제 해결에만 사용되는 전문화된 언어입니다. 반대말은 파이썬, 자바처럼 어디에나 쓸 수 있는 **범용 언어(GPL, General-Purpose Language)**입니다.
[^2]: **추상화(Abstraction):** 복잡한 내부 과정이나 원리는 감추고, 사용에 필요한 핵심적인 기능만 외부로 드러내는 것을 의미합니다. 우리는 자동차의 엔진 원리를 몰라도 운전할 수 있는데, 이것이 바로 추상화의 대표적인 예입니다.
